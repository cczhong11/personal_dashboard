(this.webpackJsonppersonal_dashboard=this.webpackJsonppersonal_dashboard||[]).push([[0],{155:function(t,e,n){},156:function(t,e,n){},286:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),s=n.n(a),j=n(16),i=n.n(j),o=(n(155),n.p,n(156),n(157),n(9)),l=n(26),r=n.n(l),b=n(80),u=n.n(b);function O(t){var e,n=(null!==(e="44.232.253.221")?e:"127.0.0.1")+":"+("219","219"),s=Object(a.useState)(0),j=Object(o.a)(s,1)[0],i=Object(a.useState)(""),l=Object(o.a)(i,2),b=l[0],O=l[1];return Object(a.useEffect)((function(){r.a.get("http://".concat(n,"/file?name=").concat(t.name,"&list=").concat(t.list)).then((function(t){O(t.data.data[0].content)}))}),[j]),Object(c.jsx)(u.a,{source:b})}function d(){return Object(c.jsx)(O,{name:"\u6211\u80fd\u505a\u7684\u597d\u7684\u5730\u65b9.md",list:"must"})}function h(t){var e,n=(null!==(e="44.232.253.221")?e:"127.0.0.1")+":"+("219","219"),s=Object(a.useState)(0),j=Object(o.a)(s,1)[0],i=Object(a.useState)([]),l=Object(o.a)(i,2),b=l[0],O=l[1],d=Object(a.useState)({}),h=Object(o.a)(d,2),x=h[0],m=h[1],f=Object(a.useState)(""),p=Object(o.a)(f,2),g=p[0],v=p[1];return Object(a.useEffect)((function(){r.a.get("http://".concat(n,"/json?name=").concat(t.list,".json")).then((function(t){O(t.data.data[0].structure.content)}))}),[j]),Object(a.useEffect)((function(){"true"!==t.latest?r.a.get("http://".concat(n,"/json?name=").concat(t.name,"&list=").concat(t.list)).then((function(t){m(t.data.data[0].data)})):r.a.get("http://".concat(n,"/json?date=latest&list=").concat(t.list)).then((function(t){m(t.data.data[0].data)}))}),[b]),Object(a.useEffect)((function(){var e=b.map((function(e){return t.onlynext?e.id.includes("next")?"## "+e.title+"\n\n"+x[e.id]:"":"## "+e.title+"\n\n"+x[e.id]}));v(e.join("\n"))}),[x]),Object(c.jsx)(u.a,{source:g})}function x(){return Object(c.jsx)(h,{latest:"true",list:"weekly",onlynext:!0})}function m(){return Object(c.jsx)(h,{latest:"true",list:"monthly",onlynext:!0})}var f=n(81),p=n(70),g=n(291),v=n(146),y=n(15),k=g.a.TextArea;function S(t){var e,n=(null!==(e="44.232.253.221")?e:"127.0.0.1")+":"+("219","219"),s=Object(a.useState)([]),j=Object(o.a)(s,2),i=j[0],l=j[1],b=Object(a.useState)(0),u=Object(o.a)(b,1)[0],O=Object(a.useState)({}),d=Object(o.a)(O,2),h=d[0],x=d[1],m=Object(y.e)(),S="";void 0!==t.date&&null!==t.date&&""!==t.date&&(S=t.date.split(".")[0]),console.log(S);var w=Object(a.useState)(S),_=Object(o.a)(w,2),C=_[0],I=_[1];"date"in h||x(Object(p.a)(Object(p.a)({},h),{},{date:C})),Object(a.useEffect)((function(){var e="http://".concat(n,"/json?name=").concat(t.list,".json");r.a.get(e).then((function(t){l(t.data.data[0].structure.content)}))}),[u]),Object(a.useEffect)((function(){if(void 0!==t.date&&null!==t.date&&""!==t.date){var e="http://".concat(n,"/json?list=").concat(t.list,"&name=").concat(S,".json");r.a.get(e).then((function(t){x(t.data.data[0].data)}))}}),[u]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Date"}),Object(c.jsx)(g.a,{value:C,onChange:function(t){return e=t.target.value,void I(e);var e}}),i.map((function(t){var e;return Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("h2",{children:t.title}),Object(c.jsx)(k,{rows:6,onChange:function(e){return n=e.target.value,c=t.id,console.log(h),void x(Object(p.a)(Object(p.a)({},h),{},Object(f.a)({},c,n)));var n,c},value:null!==(e=h[t.id])&&void 0!==e?e:""}),Object(c.jsx)("br",{})]})})),Object(c.jsx)(v.a,{type:"primary",onClick:function(){r.a.post("http://".concat(n,"/json?list=").concat(t.list),h).then((function(){m.push("/".concat(t.list,"_view"))}))},children:"submit"})]})}function w(t){var e,n=Object(a.useState)(t.date),s=Object(o.a)(n,2),j=s[0],i=s[1],l=Object(a.useState)(!0),b=Object(o.a)(l,2),u=b[0],O=b[1],d=(null!==(e="44.232.253.221")?e:"127.0.0.1")+":"+("219","219"),h=Object(a.useState)(0),x=Object(o.a)(h,1)[0];return Object(a.useEffect)((function(){""===j?r.a.get("http://".concat(d,"/date?list=").concat(t.list)).then((function(t){i(t.data.date),O(!1)})):O(!1)}),[x]),u?Object(c.jsx)(c.Fragment,{}):Object(c.jsx)(S,{list:t.list,date:j})}function _(){return Object(c.jsx)(O,{name:"\u539f\u5219.md",list:"must"})}function C(){var t,e=Object(a.useState)([]),n=Object(o.a)(e,2),s=n[0],j=n[1],i=(null!==(t="44.232.253.221")?t:"127.0.0.1")+":"+("219","219"),l=Object(a.useState)(""),b=Object(o.a)(l,2),u=b[0],d=b[1],h=Object(a.useState)(!0),x=Object(o.a)(h,2),m=x[0],f=x[1];return Object(a.useEffect)((function(){r.a.get("http://".concat(i,"/file?list=read")).then((function(t){j(t.data.data.map((function(t){return{name:t.name}})))})),console.log(s)}),[0,m]),m?Object(c.jsx)(c.Fragment,{children:s.sort((function(t,e){return t.name.localeCompare(e.name)})).map((function(t){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("a",{href:"#",onClick:function(){d(t.name),f(!1)},children:t.name},t.name),Object(c.jsx)("br",{})]})}))}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O,{name:u,list:"read"}),Object(c.jsx)(v.a,{type:"primary",onClick:function(){f(!0)},children:"back"})]})}function I(t){var e,n=Object(a.useState)([]),s=Object(o.a)(n,2),j=s[0],i=s[1],l=(null!==(e="44.232.253.221")?e:"127.0.0.1")+":"+("219","219"),b=Object(a.useState)(""),u=Object(o.a)(b,2),O=u[0],d=u[1],x=Object(a.useState)(!0),m=Object(o.a)(x,2),f=m[0],p=m[1],g=Object(y.e)();return console.log(t.history),Object(a.useEffect)((function(){r.a.get("http://".concat(l,"/file?list=").concat(t.list)).then((function(t){i(t.data.data.filter((function(t){return!t.name.includes("9999")})).map((function(t){return{name:t.name}})))})),console.log(j)}),[0,f]),f?Object(c.jsx)(c.Fragment,{children:j.sort((function(t,e){return e.name.localeCompare(t.name)})).map((function(t){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("a",{onClick:function(){d(t.name),p(!1)},children:t.name},t.name),Object(c.jsx)("br",{})]})}))}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h,{name:O,list:t.list,onlynext:!1}),Object(c.jsx)(v.a,{type:"primary",onClick:function(){p(!0)},children:"back"}),Object(c.jsx)(v.a,{type:"primary",onClick:function(){g.push("/".concat(t.list,"_edit?date=").concat(O))},children:"edit"})]})}var F=n(27),E=n(289),N=n(290),B=n(292),L=n(293),P=n(294),T=n(295),D=n(296),H=E.a.Header,J=E.a.Sider,M=E.a.Content;var A=N.a.SubMenu;var K=function(t){var e,n,a=new URLSearchParams(Object(y.f)().search);return Object(c.jsxs)(E.a,{children:[Object(c.jsxs)(J,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(t){console.log(t)},onCollapse:function(t,e){console.log(t,e)},children:[Object(c.jsx)("div",{className:"logo"}),Object(c.jsxs)(N.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(c.jsxs)(N.a.Item,{icon:Object(c.jsx)(B.a,{}),children:["\u81ea\u5df1\u63d0\u9ad8\u7684\u70b9",Object(c.jsx)(F.b,{to:"/improvement"})]},"1"),Object(c.jsxs)(N.a.Item,{icon:Object(c.jsx)(B.a,{}),children:["\u539f\u5219",Object(c.jsx)(F.b,{to:"/principe"})]},"10"),Object(c.jsxs)(N.a.Item,{icon:Object(c.jsx)(L.a,{}),children:["\u672c\u5468\u76ee\u6807",Object(c.jsx)(F.b,{to:"/weekly"})]},"2"),Object(c.jsxs)(N.a.Item,{icon:Object(c.jsx)(L.a,{}),children:["\u672c\u6708\u76ee\u6807",Object(c.jsx)(F.b,{to:"/monthly"})]},"3"),Object(c.jsxs)(N.a.Item,{icon:Object(c.jsx)(P.a,{}),children:["\u8bfb\u4e66",Object(c.jsx)(F.b,{to:"/read"})]},"4"),Object(c.jsxs)(A,{icon:Object(c.jsx)(T.a,{}),title:"\u4fee\u6539",children:[Object(c.jsxs)(N.a.Item,{children:["\u6bcf\u5468\u8ba1\u5212",Object(c.jsx)(F.b,{to:"/weekly_edit"})]},"weekly_edit"),Object(c.jsxs)(N.a.Item,{children:["\u6bcf\u6708\u8ba1\u5212",Object(c.jsx)(F.b,{to:"/monthly_edit"})]},"monthly_edit"),Object(c.jsxs)(N.a.Item,{children:["\u670b\u53cb",Object(c.jsx)(F.b,{to:"/friend_edit"})]},"friend")]},"sub1"),Object(c.jsxs)(A,{icon:Object(c.jsx)(D.a,{}),title:"\u67e5\u770b",children:[Object(c.jsxs)(N.a.Item,{children:["\u6bcf\u5468\u8ba1\u5212",Object(c.jsx)(F.b,{to:"/weekly_view"})]},"weekly_view"),Object(c.jsxs)(N.a.Item,{children:["\u6bcf\u6708\u8ba1\u5212",Object(c.jsx)(F.b,{to:"/monthly_view"})]},"month_view"),Object(c.jsxs)(N.a.Item,{children:["\u670b\u53cb",Object(c.jsx)(F.b,{to:"/friend_view"})]},"friend")]},"sub2")]})]}),Object(c.jsxs)(E.a,{children:[Object(c.jsx)(H,{className:"site-layout-sub-header-background",style:{padding:0}}),Object(c.jsx)(M,{style:{margin:"24px 16px 0"},children:Object(c.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:1024},children:[Object(c.jsx)(y.a,{exact:!0,path:"/",component:d}),Object(c.jsx)(y.a,{path:"/improvement",component:d}),Object(c.jsx)(y.a,{path:"/weekly",component:x}),Object(c.jsx)(y.a,{path:"/monthly",component:m}),Object(c.jsx)(y.a,{path:"/read",component:C}),Object(c.jsx)(y.a,{path:"/weekly_edit",children:Object(c.jsx)(w,{list:"weekly",date:null!==(e=a.get("date"))&&void 0!==e?e:""})}),Object(c.jsx)(y.a,{path:"/weekly_view",children:Object(c.jsx)(I,{list:"weekly"})}),Object(c.jsx)(y.a,{path:"/monthly_edit",children:Object(c.jsx)(w,{list:"monthly",date:null!==(n=a.get("date"))&&void 0!==n?n:""})}),Object(c.jsx)(y.a,{path:"/principe",component:_})]})})]})]})},R=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,297)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,s=e.getLCP,j=e.getTTFB;n(t),c(t),a(t),s(t),j(t)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(F.a,{children:Object(c.jsx)(K,{})})}),document.getElementById("root")),R()}},[[286,1,2]]]);
//# sourceMappingURL=main.58ae0508.chunk.js.map