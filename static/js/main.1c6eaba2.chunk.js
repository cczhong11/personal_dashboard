(this.webpackJsonppersonal_dashboard=this.webpackJsonppersonal_dashboard||[]).push([[0],{131:function(t,e,n){},132:function(t,e,n){},227:function(t,e,n){},229:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),s=n.n(a),i=n(27),o=n.n(i),j=(n(131),n.p,n(132),n(133),n(11)),r=n(14),l=n.n(r),u=n(57),b=n.n(u),d="server.tczhong.com/backend";function O(t){var e=Object(a.useState)(0),n=Object(j.a)(e,1)[0],s=Object(a.useState)([]),i=Object(j.a)(s,2),o=i[0],r=i[1],u=Object(a.useState)({}),O=Object(j.a)(u,2),m=O[0],h=O[1],f=Object(a.useState)(""),x=Object(j.a)(f,2),p=x[0],g=x[1];return Object(a.useEffect)((function(){l.a.get("https://".concat(d,"/json?name=").concat(t.list,".json")).then((function(t){r(t.data.data[0].structure.content)}))}),[n]),Object(a.useEffect)((function(){"true"!==t.latest?l.a.get("https://".concat(d,"/json?name=").concat(t.name,"&list=").concat(t.list)).then((function(t){h(t.data.data[0].data)})):l.a.get("https://".concat(d,"/json?date=latest&list=").concat(t.list)).then((function(t){h(t.data.data[0].data)}))}),[o]),Object(a.useEffect)((function(){var e=o.map((function(e){if(!t.onlynext){var n,c=null!==(n=m[e.id])&&void 0!==n?n:"";return Array.isArray(m[e.id])&&(c=m[e.id].join("\n")),"## "+e.title+"\n\n"+c}var a;return e.id.includes("next")&&null!==(a="## "+e.title+"\n\n"+m[e.id])&&void 0!==a?a:""}));e.unshift("# ".concat(m.date)),g(e.join("\n"))}),[m]),Object(c.jsx)(b.a,{source:p})}function m(){return Object(c.jsx)(O,{latest:"true",list:"weekly",onlynext:!0})}function h(){return Object(c.jsx)(O,{latest:"true",list:"monthly",onlynext:!0})}var f=n(69),x=n(34),p=n(233),g=n(121),v=n(18),y=p.a.TextArea;function k(t){var e=Object(a.useState)([]),n=Object(j.a)(e,2),s=n[0],i=n[1],o=Object(a.useState)(0),r=Object(j.a)(o,1)[0],u=Object(a.useState)({}),b=Object(j.a)(u,2),m=b[0],h=b[1],k=Object(v.e)(),S="";void 0!==t.date&&null!==t.date&&""!==t.date&&(S=t.date.split(".")[0]);var w=Object(a.useState)(S),C=Object(j.a)(w,2),_=C[0],E=C[1];"date"in m||h(Object(x.a)(Object(x.a)({},m),{},{date:_})),Object(a.useEffect)((function(){var e="https://".concat(d,"/json?name=").concat(t.list,".json");l.a.get(e).then((function(t){i(t.data.data[0].structure.content)}))}),[r]),Object(a.useEffect)((function(){if(void 0!==t.date&&null!==t.date&&""!==t.date){var e="https://".concat(d,"/json?list=").concat(t.list,"&name=").concat(S,".json");l.a.get(e).then((function(t){h(t.data.data[0].data)}))}}),[r]);return Object(c.jsxs)(c.Fragment,{children:["weekly"===t.list||"monthly"===t.list?Object(c.jsx)(O,{latest:"true",list:t.list,onlynext:!0}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("h2",{children:"Date"}),Object(c.jsx)(p.a,{value:_,onChange:function(t){return e=t.target.value,E(e),void h(Object(x.a)(Object(x.a)({},m),{},{date:e}));var e}}),s.map((function(t){var e;return Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("h2",{children:t.title}),Object(c.jsx)(y,{rows:6,onChange:function(e){return n=e.target.value,c=t.id,console.log(m),void h(Object(x.a)(Object(x.a)({},m),{},Object(f.a)({},c,n)));var n,c},value:null!==(e=m[t.id])&&void 0!==e?e:""}),Object(c.jsx)("br",{})]})})),Object(c.jsx)(g.a,{type:"primary",onClick:function(){l.a.post("https://".concat(d,"/json?list=").concat(t.list),m).then((function(){k.push("/".concat(t.list,"_view"))}))},children:"submit"})]})}function S(t){var e=Object(a.useState)(t.date),n=Object(j.a)(e,2),s=n[0],i=n[1],o=Object(a.useState)(!0),r=Object(j.a)(o,2),u=r[0],b=r[1],O=Object(a.useState)(0),m=Object(j.a)(O,1)[0];return Object(a.useEffect)((function(){""===s?l.a.get("https://".concat(d,"/date?list=").concat(t.list)).then((function(t){i(t.data.date),b(!1)})):b(!1)}),[m]),u?Object(c.jsx)(c.Fragment,{}):Object(c.jsx)(k,{list:t.list,date:s})}var w=p.a.TextArea;function C(t){var e,n=Object(a.useState)(0),s=Object(j.a)(n,1)[0],i=Object(a.useState)({}),o=Object(j.a)(i,2),r=o[0],u=o[1],b=Object(a.useState)(10),O=Object(j.a)(b,2),m=O[0],h=O[1],f=Object(v.e)();Object(a.useEffect)((function(){if(void 0!==t.name&&null!==t.name&&""!==t.name){var e="https://".concat(d,"/file?list=").concat(t.list,"&name=").concat(t.name);l.a.get(e).then((function(t){u(t.data.data[0]),h(t.data.data[0].content.split("\n").length+10)}))}}),[s]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(w,{rows:m,onChange:function(t){return e=t.target.value,console.log(r),void u(Object(x.a)(Object(x.a)({},r),{},{content:e}));var e},value:null!==(e=r.content)&&void 0!==e?e:""}),Object(c.jsx)(g.a,{type:"primary",onClick:function(){l.a.post("https://".concat(d,"/file?list=").concat(t.list,"&name=").concat(t.name),r).then((function(){f.push("/markdown_show?list=".concat(t.list,"&name=").concat(t.name))}))},children:"submit"})]})}function _(t){var e=Object(a.useState)(0),n=Object(j.a)(e,1)[0],s=Object(a.useState)(""),i=Object(j.a)(s,2),o=i[0],r=i[1],u=Object(v.e)();return Object(a.useEffect)((function(){l.a.get("https://".concat(d,"/file?name=").concat(t.name,"&list=").concat(t.list)).then((function(t){r(t.data.data[0].content)}))}),[n]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.a,{source:o}),Object(c.jsx)(g.a,{type:"primary",onClick:function(){u.push("/markdown_edit?list=".concat(t.list,"&name=").concat(t.name))},children:"edit"})]})}function E(){var t=Object(a.useState)([]),e=Object(j.a)(t,2),n=e[0],s=e[1],i=Object(a.useState)(""),o=Object(j.a)(i,2),r=o[0],u=o[1],b=Object(a.useState)(!0),O=Object(j.a)(b,2),m=O[0],h=O[1];return Object(a.useEffect)((function(){l.a.get("https://".concat(d,"/file?list=read")).then((function(t){s(t.data.data.map((function(t){return{name:t.name}})))})),console.log(n)}),[0,m]),m?Object(c.jsx)(c.Fragment,{children:n.sort((function(t,e){return t.name.localeCompare(e.name)})).map((function(t,e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("a",{onClick:function(){u(t.name),h(!1)},children:[e,". ",t.name]},t.name),Object(c.jsx)("br",{})]})}))}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(_,{name:r,list:"read"}),Object(c.jsx)(g.a,{type:"primary",onClick:function(){h(!0)},children:"back"})]})}var F=n(116);function I(t){var e=Object(F.a)("AIzaSyCjHEC0qECrtqhg74yjnAiAkcbpx0TtKuA",{zoom:10,center:{lat:37.3984,lng:-122.01233}}),n=e.ref,a=e.map,s=e.google;return console.log(t.list),a&&t.list&&t.list.map((function(t){new s.maps.Marker({label:t.name.split(".")[0],position:t.latlng,map:a})})),Object(c.jsx)("div",{ref:n,style:{width:"100%",height:500}})}function A(t){var e=Object(a.useState)([]),n=Object(j.a)(e,2),s=n[0],i=n[1],o=Object(a.useState)(""),r=Object(j.a)(o,2),u=r[0],b=r[1],m=Object(a.useState)(!0),h=Object(j.a)(m,2),f=h[0],x=h[1],p=Object(v.e)();return Object(a.useEffect)((function(){l.a.get("https://".concat(d,"/file?list=").concat(t.list)).then((function(e){t.list.includes("tour")||t.list.includes("resturant")?i(e.data.data.filter((function(t){return!t.name.includes("9999")})).map((function(t){return{name:t.name,latlng:t.latlng}}))):i(e.data.data.filter((function(t){return!t.name.includes("9999")})).map((function(t){return{name:t.name}})))}))}),[0,f]),f?Object(c.jsxs)(c.Fragment,{children:[s.sort((function(t,e){return e.name.localeCompare(t.name)})).map((function(t,e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("a",{onClick:function(){b(t.name),x(!1)},children:[e,". ",t.name]},t.name),Object(c.jsx)("br",{})]})})),t.list.includes("tour")||t.list.includes("resturant")?Object(c.jsx)(I,{list:s}):Object(c.jsx)(c.Fragment,{})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O,{name:u,list:t.list,onlynext:!1}),Object(c.jsx)(g.a,{type:"primary",onClick:function(){x(!0)},children:"back"}),Object(c.jsx)(g.a,{type:"primary",onClick:function(){p.push("/".concat(t.list,"_edit?date=").concat(u))},children:"edit"}),Object(c.jsx)("br",{})]})}var N=n(19),R=n(232),L=n(234),T=n(235),B=n(236),z=n(237),H=n(238),M=n(239),P=n(240),q=n(241),D=n(122);n(227);function J(t){var e=Object(a.useState)(0),n=Object(j.a)(e,1)[0],s=Object(a.useState)([]),i=Object(j.a)(s,2),o=i[0],r=i[1],u=Object(a.useState)([]),b=Object(j.a)(u,2),O=b[0],m=b[1],h=Object(a.useState)(null),f=Object(j.a)(h,2),x=f[0],p=f[1];Object(a.useEffect)((function(){l.a.get("https://".concat(d,"/json?name=").concat(t.name,"&list=").concat(t.list)).then((function(t){r(t.data.data[0].data)}))}),[n]),Object(a.useEffect)((function(){l.a.get("https://".concat(d,"/json?name=").concat(t.name,"&list=").concat(t.list,"_highlight")).then((function(t){m(t.data.data[0].data.data)}))}),[n]),console.log(O);var g=Object(a.useRef)(null),v=Object(a.useState)({top:0,left:0}),y=Object(j.a)(v,2),k=y[0],S=y[1],w=function(){var t=window.getSelection(),e=t.getRangeAt(0),n=e.commonAncestorContainer.parentElement.parentElement,c=n.getAttribute("data-index"),a=n.getAttribute("class"),s={index:parseInt(c,10),startOffset:e.startOffset,endOffset:e.endOffset,type:a},i=document.createElement("span");i.className="highlight",e.surroundContents(i),t.removeAllRanges(),m([].concat(Object(D.a)(O),[s]))};Object(a.useEffect)((function(){0!==O.length&&l.a.post("https://".concat(d,"/json?list=").concat(t.list,"_highlight"),{date:t.name.split(".")[0],data:O}).then((function(){}))}),[O]);var C=function(t){var e=window.getSelection();if(e.rangeCount>0){var n=e.getRangeAt(0).getBoundingClientRect(),c=window.scrollX,a=window.scrollY;S({top:n.top-40+a,left:n.left+n.width/2+c})}};Object(a.useEffect)((function(){var t="mouseup";return g.current.addEventListener(t,C),function(){g.current.removeEventListener(t,C)}}),[]);var _=function(t,e,n){var a=0,s=[];return O.filter((function(t){return t.index===e&&t.type===n})).forEach((function(e){s.push(Object(c.jsx)("span",{children:t.slice(a,e.startOffset)})),s.push(Object(c.jsx)("span",{className:"highlight",children:t.slice(e.startOffset,e.endOffset)})),a=e.endOffset})),s.push(Object(c.jsx)("span",{children:t.slice(a)})),s};return Object(c.jsxs)("div",{ref:g,children:[Object(c.jsx)("div",{style:{position:"absolute",top:"".concat(k.top,"px"),left:"".concat(k.left,"px")},children:Object(c.jsx)("button",{onClick:w,children:"\u9ad8\u4eae"})}),null===o||void 0===o?void 0:o.map((function(t,e){return Object(c.jsxs)("div",{className:"book-item ".concat(x===e?"show-original":""),children:[Object(c.jsxs)("p",{className:"summary","data-index":e,children:[e+1,". ",_(t.summary,e,"summary")]}),Object(c.jsx)("button",{onClick:function(){return function(t){p(x===t?null:t)}(e)},children:"\u9605\u8bfb\u539f\u6587"}),Object(c.jsx)("button",{onClick:w,children:"\u9ad8\u4eae"}),x===e&&Object(c.jsx)("p",{className:"original-text","data-index":e,children:_(t.chunk,e,"original-text")})]},e)})),Object(c.jsx)("style",{jsx:!0,children:"\n        .highlight {\n          background-color: yellow;\n        }\n      "})]})}function K(){var t=Object(a.useState)([]),e=Object(j.a)(t,2),n=e[0],s=e[1],i=Object(a.useState)(""),o=Object(j.a)(i,2),r=o[0],u=o[1],b=Object(a.useState)(!0),O=Object(j.a)(b,2),m=O[0],h=O[1];return Object(a.useEffect)((function(){l.a.get("https://".concat(d,"/file?list=book_summary")).then((function(t){s(t.data.data.map((function(t){return{name:t.name}})))}))}),[0,m]),m?Object(c.jsx)(c.Fragment,{children:n.sort((function(t,e){return t.name.localeCompare(e.name)})).map((function(t,e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("a",{onClick:function(){u(t.name),h(!1)},children:[e,". ",t.name]},t.name),Object(c.jsx)("br",{})]})}))}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(J,{name:r,list:"book_summary"}),Object(c.jsx)(g.a,{type:"primary",onClick:function(){h(!0)},children:"back"})]})}var U=R.a.Header,W=R.a.Sider,X=R.a.Content;var Y=L.a.SubMenu;var G=function(t){var e,n,a,s,i=[{name:"\u6bcf\u5468\u8ba1\u5212",json:"weekly"},{name:"\u6bcf\u5468\u5de5\u4f5c\u603b\u7ed3",json:"weekly_work"},{name:"\u6bcf\u5468\u751f\u6d3b\u65f6\u95f4\u603b\u7ed3",json:"weekly_analysis"},{name:"\u6bcf\u6708\u8ba1\u5212",json:"monthly"},{name:"\u9879\u76ee",json:"project"},{name:"\u670b\u53cb",json:"friends"},{name:"\u7761\u524d\u6545\u4e8b",json:"sleep_story"},{name:"\u6545\u4e8b",json:"story"},{name:"\u7b11\u8bdd",json:"fun"},{name:"\u81ea\u5df1\u7684\u60f3\u6cd5",json:"event_and_feeling"}],o=[{name:"\u8bfb\u4e66\u8ba1\u5212",json:"book"},{name:"\u505a\u996d",json:"cook"},{name:"\u94fe\u63a5",json:"reading_link"},{name:"\u9910\u5385",json:"resturant"},{name:"\u65c5\u6e38",json:"tour"},{name:"\u6444\u5f71",json:"photos"},{name:"\u60f3\u505a\u7684\u4e8b\u60c5",json:"play"}],j=new URLSearchParams(Object(v.f)().search);return Object(c.jsxs)(R.a,{children:[Object(c.jsxs)(W,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(t){console.log(t)},onCollapse:function(t,e){console.log(t,e)},children:[Object(c.jsx)("div",{className:"logo"}),Object(c.jsxs)(L.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(c.jsxs)(L.a.Item,{icon:Object(c.jsx)(T.a,{}),children:["\u81ea\u5df1\u63d0\u9ad8\u7684\u70b9",Object(c.jsx)(N.b,{to:"/improvement"})]},"1"),Object(c.jsxs)(L.a.Item,{icon:Object(c.jsx)(T.a,{}),children:["\u539f\u5219",Object(c.jsx)(N.b,{to:"/principe"})]},"10"),Object(c.jsxs)(L.a.Item,{icon:Object(c.jsx)(B.a,{}),children:["\u540c\u7406\u5fc3",Object(c.jsx)(N.b,{to:"/empthy"})]},"11"),Object(c.jsxs)(L.a.Item,{icon:Object(c.jsx)(z.a,{}),children:["\u5e94\u6025\u5904\u7406",Object(c.jsx)(N.b,{to:"/safety"})]},"12"),Object(c.jsxs)(L.a.Item,{icon:Object(c.jsx)(H.a,{}),children:["\u672c\u5468\u76ee\u6807",Object(c.jsx)(N.b,{to:"/weekly"})]},"2"),Object(c.jsxs)(L.a.Item,{icon:Object(c.jsx)(H.a,{}),children:["\u672c\u6708\u76ee\u6807",Object(c.jsx)(N.b,{to:"/monthly"})]},"3"),Object(c.jsxs)(L.a.Item,{icon:Object(c.jsx)(H.a,{}),children:["\u5e74\u8ba1\u5212",Object(c.jsx)(N.b,{to:"/year_plan"})]},"4"),Object(c.jsxs)(L.a.Item,{icon:Object(c.jsx)(M.a,{}),children:["\u8bfb\u4e66\u7b14\u8bb0",Object(c.jsx)(N.b,{to:"/read"})]},"5"),Object(c.jsxs)(L.a.Item,{icon:Object(c.jsx)(M.a,{}),children:["\u4e66\u7c4d\u603b\u7ed3",Object(c.jsx)(N.b,{to:"/book_summary"})]},"6"),Object(c.jsx)(Y,{icon:Object(c.jsx)(P.a,{}),title:"\u4fee\u6539",children:i.map((function(t){var e="".concat(t.json,"_edit");return Object(c.jsxs)(L.a.Item,{children:[t.name,Object(c.jsx)(N.b,{to:"/".concat(e)})]},e)}))},"sub1"),Object(c.jsx)(Y,{icon:Object(c.jsx)(q.a,{}),title:"\u67e5\u770b",children:i.map((function(t){var e="".concat(t.json,"_view");return Object(c.jsxs)(L.a.Item,{children:[t.name,Object(c.jsx)(N.b,{to:"/".concat(e)})]},e)}))},"sub2"),Object(c.jsx)(Y,{icon:Object(c.jsx)(P.a,{}),title:"\u6dfb\u52a0\u6e05\u5355",children:o.map((function(t){var e="".concat(t.json,"_edit");return Object(c.jsxs)(L.a.Item,{children:[t.name,Object(c.jsx)(N.b,{to:"/".concat(e)})]},e)}))},"sub3"),Object(c.jsx)(Y,{icon:Object(c.jsx)(q.a,{}),title:"\u67e5\u770b\u6e05\u5355",children:o.map((function(t){var e="".concat(t.json,"_view");return Object(c.jsxs)(L.a.Item,{children:[t.name,Object(c.jsx)(N.b,{to:"/".concat(e)})]},e)}))},"sub4")]})]}),Object(c.jsxs)(R.a,{children:[Object(c.jsx)(U,{className:"site-layout-sub-header-background",style:{padding:0}}),Object(c.jsx)(X,{style:{margin:"24px 16px 0"},children:Object(c.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:1024},children:[Object(c.jsx)(v.a,{exact:!0,path:"/",children:Object(c.jsx)(_,{name:"\u6211\u80fd\u505a\u7684\u597d\u7684\u5730\u65b9.md",list:"must"})}),Object(c.jsx)(v.a,{path:"/improvement",children:Object(c.jsx)(_,{name:"\u6211\u80fd\u505a\u7684\u597d\u7684\u5730\u65b9.md",list:"must"})}),Object(c.jsx)(v.a,{path:"/safety",children:Object(c.jsx)(_,{name:"\u5e94\u6025\u5904\u7406\u65b9\u6cd5.md",list:"must"})}),Object(c.jsx)(v.a,{path:"/year_plan",children:Object(c.jsx)(_,{name:"2023\u5e74\u8ba1\u5212.md",list:"must"})}),Object(c.jsx)(v.a,{path:"/weekly",component:m}),Object(c.jsx)(v.a,{path:"/monthly",component:h}),Object(c.jsx)(v.a,{path:"/read",component:E}),Object(c.jsx)(v.a,{path:"/book_summary",component:K}),i.map((function(t){var e,n="/".concat(t.json,"_edit");return Object(c.jsx)(v.a,{path:n,children:Object(c.jsx)(S,{list:t.json,date:null!==(e=j.get("date"))&&void 0!==e?e:""})})})),i.map((function(t){var e="/".concat(t.json,"_view");return Object(c.jsx)(v.a,{path:e,children:Object(c.jsx)(A,{list:t.json})})})),o.map((function(t){var e,n="/".concat(t.json,"_edit");return Object(c.jsx)(v.a,{path:n,children:Object(c.jsx)(S,{list:t.json,date:null!==(e=j.get("date"))&&void 0!==e?e:""})})})),o.map((function(t){var e="/".concat(t.json,"_view");return Object(c.jsx)(v.a,{path:e,children:Object(c.jsx)(A,{list:t.json})})})),Object(c.jsx)(v.a,{path:"/markdown_edit",children:Object(c.jsx)(C,{list:null!==(e=j.get("list"))&&void 0!==e?e:"",name:null!==(n=j.get("name"))&&void 0!==n?n:""})}),Object(c.jsx)(v.a,{path:"/markdown_show",children:Object(c.jsx)(_,{list:null!==(a=j.get("list"))&&void 0!==a?a:"",name:null!==(s=j.get("name"))&&void 0!==s?s:""})}),Object(c.jsx)(v.a,{path:"/principe",children:Object(c.jsx)(_,{name:"\u539f\u5219.md",list:"must"})}),Object(c.jsx)(v.a,{path:"/empthy",children:Object(c.jsx)(_,{name:"\u540c\u7406\u5fc3.md",list:"must"})})]})})]})]})},Q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,242)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),s(t),i(t)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(N.a,{children:Object(c.jsx)(G,{})})}),document.getElementById("root")),Q()}},[[229,1,2]]]);
//# sourceMappingURL=main.1c6eaba2.chunk.js.map