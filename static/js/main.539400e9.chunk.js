(this.webpackJsonppersonal_dashboard=this.webpackJsonppersonal_dashboard||[]).push([[0],{228:function(e,t,n){},229:function(e,t,n){},249:function(e,t,n){},325:function(e,t,n){},411:function(e,t,n){},412:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),s=n(31),i=n.n(s),o=(n(228),n(9)),l=(n.p,n(229),n(230),n(30)),d=n.n(l),u=n(43),j=n(20),b=n.n(j),f=function(e){return e.replace(/\/$/,"")},h=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP:"44.232.253.221",REACT_APP_PORT:"220",REACT_APP_GOOGLE_API:"AIzaSyCjHEC0qECrtqhg74yjnAiAkcbpx0TtKuA"}).REACT_APP_API_ORIGIN?f(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP:"44.232.253.221",REACT_APP_PORT:"220",REACT_APP_GOOGLE_API:"AIzaSyCjHEC0qECrtqhg74yjnAiAkcbpx0TtKuA"}).REACT_APP_API_ORIGIN):"https://api.tczhong.com",m="".concat(h,"/backend"),p=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP:"44.232.253.221",REACT_APP_PORT:"220",REACT_APP_GOOGLE_API:"AIzaSyCjHEC0qECrtqhg74yjnAiAkcbpx0TtKuA"}).REACT_APP_AUTH_URL,x=p?f(p):"".concat(h,"/auth"),O=(n(249),[{title:"1) \u5065\u5eb7 Health\uff08\u4e3b\u7ebf\uff09",description:"\u4e3b\u7ebf",items:[{label:"\u529b\u91cf\u8bad\u7ec3 Strength x1\uff08\u65e5\u671f/\u65f6\u95f4\uff09",key:"health_strength_1"},{label:"\u529b\u91cf\u8bad\u7ec3 Strength x2\uff08\u65e5\u671f/\u65f6\u95f4\uff09",key:"health_strength_2"},{label:"\u8d70\u8def/\u6709\u6c27 Walk/Cardio\uff1a__ \u6b21\uff08\u53ef\u9009\u2b50\uff09",key:"health_walk_cardio"},{label:"\u4f53\u91cd\u8d8b\u52bf Weight trend\uff08\u5468\u5e73\u5747\uff09",key:"health_weight_trend"},{label:"\u6700\u5c0f\u7248\u672c Minimum: 20min \u529b\u91cf x2\uff08\u5fd9\u4e5f\u7b97\u8d62\uff01\uff09",key:"health_minimum"}]},{title:"2) \u521b\u4f5c Create\uff08\u4e3b\u7ebf\uff09",description:"\u4e3b\u7ebf",items:[{label:"AI \u6280\u5de7 1 \u4e2a \u2192 \u7528\u5230\u89c6\u9891\u91cc\uff08\u6280\u5de7 / \u7528\u5728\u54ea\uff09",key:"create_ai_tip"},{label:"\u62c9\u7247 Study x2\uff1a\u89c6\u98911\uff08\u535a\u4e3b / Hook / \u8282\u594f / \u60c5\u7eea\uff09",key:"create_study_video_1"},{label:"\u62c9\u7247 Study x2\uff1a\u89c6\u98912\uff08\u535a\u4e3b / Hook / \u8282\u594f / \u60c5\u7eea\uff09",key:"create_study_video_2"},{label:"\u6444\u5f71\u7ec3\u4e60 Photo 1 \u6b21\uff08\u4e3b\u9898 / \u5149\u7ebf / \u76ee\u6807\uff09",key:"create_photo_practice"},{label:"\u6700\u5c0f\u7248\u672c Minimum: \u62c9\u7247 1 \u4e2a + \u62cd 20 \u5f20\u7ec3\u4e60\u7167",key:"create_minimum"}]},{title:"3) \u5de5\u4f5c Career\uff08\u4e3b\u7ebf\uff09",description:"\u4e3b\u7ebf",items:[{label:"Agent \u5c0f demo \u63a8\u8fdb 1 \u6b65\uff08\u672c\u5468\u4ea7\u51fa\uff09",key:"career_agent_demo"},{label:"\u5f00\u6e90 repo \u7cbe\u8bfb/\u7b14\u8bb0\uff08repo / \u501f\u9274\u70b9\uff09",key:"career_open_source"},{label:"\u672c\u6708\u6587\u7ae0\u63a8\u8fdb\uff1a\u5199 ___ \u5b57\uff08Topic\uff09",key:"career_article_words"},{label:"\u8bc1\u636e\u94fe Evidence: \u94fe\u63a5/\u622a\u56fe\u653e\u8fd9",key:"career_evidence"}]},{title:"4) \u8f7b\u91cf\u52a0\u5206 Bonus \u2b50\uff08\u4e0d\u505a\u4e5f\u4e0d\u5185\u759a\uff09",description:"\u52a0\u5206",items:[{label:"\u8bfb\u4e66 Reading\uff1a__ \u5206\u949f / \u8fdb\u5ea6",key:"bonus_reading"},{label:"\u65e5\u8bed JP\uff1aDuolingo __ \u5929 + \u8ddf\u8bfb __ \u6b21",key:"bonus_jp"},{label:"\u897f\u8bed ES\uff1aDuolingo __ \u5929 + \u8ddf\u8bfb __ \u6b21",key:"bonus_es"},{label:"\u793e\u4ea4/\u7ea6\u4f1a Social: 1 \u6b21\u9ad8\u8d28\u91cf\u7ebf\u4e0b/\u4ea4\u6d41\uff08\u6d3b\u52a8\uff09",key:"bonus_social"}]}]),g=[{label:"\u672c\u5468\u6700\u68d2\u7684 3 \u4ef6\u4e8b Top 3 wins",key:"review_top3_wins"},{label:"\u672c\u5468\u6700\u5927\u963b\u788d Biggest blocker",key:"review_biggest_blocker"},{label:"\u6211\u5b66\u5230\u4e86\u4ec0\u4e48 What I learned",key:"review_learned"},{label:"\u4e0b\u5468\u53ea\u6293 1 \u4e2a\u91cd\u70b9 Next week one focus",key:"review_next_week_focus"},{label:"\u65f6\u95f4\u82b1\u53bb\u54ea\u4e86 Time spend summary\uff08Top3\uff09",key:"review_time_spend_top3"},{label:"\u4e0b\u5468\u8981\u51cf\u5c11\u7684 1 \u4ef6\u4e8b One thing to cut",key:"review_one_thing_to_cut"}],v="______",y=function(e){return void 0===e||null===e?"":Array.isArray(e)?e.join("\n"):String(e).trim()},_=function(e,t){var n=y(e[t]);return n.length>0?n:v};function k(e){var t,n=null!==(t=e.list)&&void 0!==t?t:"weekly_2026",r=Object(c.useState)({}),s=Object(o.a)(r,2),i=s[0],l=s[1];Object(c.useEffect)((function(){var t=function(){var t=Object(u.a)(d.a.mark((function t(){var a,c,r,s,i,o,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",a=e.name?"".concat(m,"/json?name=").concat(e.name,"&list=").concat(n):"".concat(m,"/json?date=latest&list=").concat(n),t.prev=2,t.next=5,b.a.get(a);case 5:o=t.sent,u=null!==(c=null===(r=o.data)||void 0===r||null===(s=r.data)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.data)&&void 0!==c?c:{},l(u),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error("Failed to load weekly plan",t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[e.name,n]);var j=y(i.keyword),f=y(i.date);return Object(a.jsxs)("article",{className:"weekly-2026",children:[Object(a.jsxs)("header",{className:"weekly-2026__header",children:[Object(a.jsxs)("div",{className:"weekly-2026__title-block",children:[Object(a.jsx)("span",{className:"weekly-2026__eyebrow",children:"\u6bcf\u5468\u8ba1\u5212"}),Object(a.jsx)("h1",{className:"weekly-2026__title",children:f||"Week: ____"})]}),Object(a.jsxs)("div",{className:"weekly-2026__keyword",children:[Object(a.jsx)("span",{className:"weekly-2026__keyword-label",children:"\u672c\u5468\u5173\u952e\u8bcd Keyword"}),Object(a.jsx)("span",{className:"weekly-2026__keyword-value",children:j||v})]})]}),Object(a.jsx)("section",{className:"weekly-2026__grid",children:O.map((function(e){return Object(a.jsxs)("div",{className:"weekly-2026__section",children:[Object(a.jsxs)("div",{className:"weekly-2026__section-header",children:[Object(a.jsx)("h2",{children:e.title}),Object(a.jsx)("span",{className:"weekly-2026__badge",children:e.description})]}),Object(a.jsx)("div",{className:"weekly-2026__list",children:e.items.map((function(e){return Object(a.jsxs)("div",{className:"weekly-2026__list-item",children:[Object(a.jsx)("span",{className:"weekly-2026__item-label",children:e.label}),Object(a.jsx)("span",{className:"weekly-2026__item-value",children:_(i,e.key)})]},e.key)}))})]},e.title)}))}),Object(a.jsxs)("section",{className:"weekly-2026__section weekly-2026__section--wide",children:[Object(a.jsxs)("div",{className:"weekly-2026__section-header",children:[Object(a.jsx)("h2",{children:"\ud83e\udde0 \u6bcf\u5468\u590d\u76d8\uff08\u5468\u65e5 15\u201330 \u5206\u949f\uff09"}),Object(a.jsx)("span",{className:"weekly-2026__badge",children:"\u590d\u76d8"})]}),Object(a.jsx)("div",{className:"weekly-2026__list",children:g.map((function(e){return Object(a.jsxs)("div",{className:"weekly-2026__list-item",children:[Object(a.jsx)("span",{className:"weekly-2026__item-label",children:e.label}),Object(a.jsx)("span",{className:"weekly-2026__item-value weekly-2026__item-value--mono",children:_(i,e.key)})]},e.key)}))})]})]})}function w(){return Object(a.jsx)(k,{latest:"true",list:"weekly_2026"})}var S=n(103),N=n.n(S);function C(e){var t=Object(c.useState)(0),n=Object(o.a)(t,1)[0],r=Object(c.useState)([]),s=Object(o.a)(r,2),i=s[0],l=s[1],d=Object(c.useState)({}),u=Object(o.a)(d,2),j=u[0],f=u[1],h=Object(c.useState)(""),p=Object(o.a)(h,2),x=p[0],O=p[1];return Object(c.useEffect)((function(){b.a.get("".concat(m,"/json?name=").concat(e.list,".json")).then((function(e){l(e.data.data[0].structure.content)}))}),[n]),Object(c.useEffect)((function(){"true"!==e.latest?b.a.get("".concat(m,"/json?name=").concat(e.name,"&list=").concat(e.list)).then((function(e){f(e.data.data[0].data)})):b.a.get("".concat(m,"/json?date=latest&list=").concat(e.list)).then((function(e){f(e.data.data[0].data)}))}),[i]),Object(c.useEffect)((function(){var t=i.map((function(t){if(!e.onlynext){var n,a=null!==(n=j[t.id])&&void 0!==n?n:"";return Array.isArray(j[t.id])&&(a=j[t.id].join("\n")),"## "+t.title+"\n\n"+a}var c;return t.id.includes("next")&&null!==(c="## "+t.title+"\n\n"+j[t.id])&&void 0!==c?c:""}));t.unshift("# ".concat(j.date)),O(t.join("\n"))}),[j]),Object(a.jsx)(N.a,{source:x})}function E(){return Object(a.jsx)(C,{latest:"true",list:"monthly",onlynext:!0})}var A=n(89),T=n(26),I=n(420),P=n(65),R=n(33),D=I.a.TextArea;function F(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(0),l=Object(o.a)(i,1)[0],d=Object(c.useState)({}),u=Object(o.a)(d,2),j=u[0],f=u[1],h=Object(R.f)(),p="";void 0!==e.date&&null!==e.date&&""!==e.date&&(p=e.date.split(".")[0]);var x=Object(c.useState)(p),O=Object(o.a)(x,2),g=O[0],v=O[1];"date"in j||f(Object(T.a)(Object(T.a)({},j),{},{date:g})),Object(c.useEffect)((function(){var t="".concat(m,"/json?name=").concat(e.list,".json");b.a.get(t).then((function(e){s(e.data.data[0].structure.content)}))}),[l]),Object(c.useEffect)((function(){if(void 0!==e.date&&null!==e.date&&""!==e.date){var t="".concat(m,"/json?list=").concat(e.list,"&name=").concat(p,".json");b.a.get(t).then((function(e){f(e.data.data[0].data)}))}}),[l]);return Object(a.jsxs)(a.Fragment,{children:["weekly_2026"===e.list?Object(a.jsx)(k,{latest:"true",list:e.list}):"weekly"===e.list||"monthly"===e.list?Object(a.jsx)(C,{latest:"true",list:e.list,onlynext:!0}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)("h2",{children:"Date"}),Object(a.jsx)(I.a,{value:g,onChange:function(e){return t=e.target.value,v(t),void f(Object(T.a)(Object(T.a)({},j),{},{date:t}));var t}}),r.map((function(e){var t;return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("h2",{children:e.title}),Object(a.jsx)(D,{rows:6,onChange:function(t){return n=t.target.value,a=e.id,console.log(j),void f(Object(T.a)(Object(T.a)({},j),{},Object(A.a)({},a,n)));var n,a},value:null!==(t=j[e.id])&&void 0!==t?t:""}),Object(a.jsx)("br",{})]})})),Object(a.jsx)(P.a,{type:"primary",onClick:function(){b.a.post("".concat(m,"/json?list=").concat(e.list),j).then((function(){h.push("/".concat(e.list,"_view"))}))},children:"submit"})]})}n(325);var U=I.a.TextArea,L=[{title:"1) \u5065\u5eb7 Health\uff08\u4e3b\u7ebf\uff09",items:[{label:"\u529b\u91cf\u8bad\u7ec3 Strength x1\uff08\u65e5\u671f/\u65f6\u95f4\uff09",key:"health_strength_1"},{label:"\u529b\u91cf\u8bad\u7ec3 Strength x2\uff08\u65e5\u671f/\u65f6\u95f4\uff09",key:"health_strength_2"},{label:"\u8d70\u8def/\u6709\u6c27 Walk/Cardio\uff1a__ \u6b21\uff08\u53ef\u9009\u2b50\uff09",key:"health_walk_cardio"},{label:"\u4f53\u91cd\u8d8b\u52bf Weight trend\uff08\u5468\u5e73\u5747\uff09",key:"health_weight_trend"},{label:"\u6700\u5c0f\u7248\u672c Minimum: 20min \u529b\u91cf x2\uff08\u5fd9\u4e5f\u7b97\u8d62\uff01\uff09",key:"health_minimum"}]},{title:"2) \u521b\u4f5c Create\uff08\u4e3b\u7ebf\uff09",items:[{label:"AI \u6280\u5de7 1 \u4e2a \u2192 \u7528\u5230\u89c6\u9891\u91cc\uff08\u6280\u5de7 / \u7528\u5728\u54ea\uff09",key:"create_ai_tip"},{label:"\u62c9\u7247 Study x2\uff1a\u89c6\u98911\uff08\u535a\u4e3b / Hook / \u8282\u594f / \u60c5\u7eea\uff09",key:"create_study_video_1"},{label:"\u62c9\u7247 Study x2\uff1a\u89c6\u98912\uff08\u535a\u4e3b / Hook / \u8282\u594f / \u60c5\u7eea\uff09",key:"create_study_video_2"},{label:"\u6444\u5f71\u7ec3\u4e60 Photo 1 \u6b21\uff08\u4e3b\u9898 / \u5149\u7ebf / \u76ee\u6807\uff09",key:"create_photo_practice"},{label:"\u6700\u5c0f\u7248\u672c Minimum: \u62c9\u7247 1 \u4e2a + \u62cd 20 \u5f20\u7ec3\u4e60\u7167",key:"create_minimum"}]},{title:"3) \u5de5\u4f5c Career\uff08\u4e3b\u7ebf\uff09",items:[{label:"Agent \u5c0f demo \u63a8\u8fdb 1 \u6b65\uff08\u672c\u5468\u4ea7\u51fa\uff09",key:"career_agent_demo"},{label:"\u5f00\u6e90 repo \u7cbe\u8bfb/\u7b14\u8bb0\uff08repo / \u501f\u9274\u70b9\uff09",key:"career_open_source"},{label:"\u672c\u6708\u6587\u7ae0\u63a8\u8fdb\uff1a\u5199 ___ \u5b57\uff08Topic\uff09",key:"career_article_words"},{label:"\u8bc1\u636e\u94fe Evidence: \u94fe\u63a5/\u622a\u56fe\u653e\u8fd9",key:"career_evidence"}]},{title:"4) \u8f7b\u91cf\u52a0\u5206 Bonus \u2b50\uff08\u4e0d\u505a\u4e5f\u4e0d\u5185\u759a\uff09",items:[{label:"\u8bfb\u4e66 Reading\uff1a__ \u5206\u949f / \u8fdb\u5ea6",key:"bonus_reading"},{label:"\u65e5\u8bed JP\uff1aDuolingo __ \u5929 + \u8ddf\u8bfb __ \u6b21",key:"bonus_jp"},{label:"\u897f\u8bed ES\uff1aDuolingo __ \u5929 + \u8ddf\u8bfb __ \u6b21",key:"bonus_es"},{label:"\u793e\u4ea4/\u7ea6\u4f1a Social: 1 \u6b21\u9ad8\u8d28\u91cf\u7ebf\u4e0b/\u4ea4\u6d41\uff08\u6d3b\u52a8\uff09",key:"bonus_social"}]}],z=[{label:"\u672c\u5468\u6700\u68d2\u7684 3 \u4ef6\u4e8b Top 3 wins",key:"review_top3_wins"},{label:"\u672c\u5468\u6700\u5927\u963b\u788d Biggest blocker",key:"review_biggest_blocker"},{label:"\u6211\u5b66\u5230\u4e86\u4ec0\u4e48 What I learned",key:"review_learned"},{label:"\u4e0b\u5468\u53ea\u6293 1 \u4e2a\u91cd\u70b9 Next week one focus",key:"review_next_week_focus"},{label:"\u65f6\u95f4\u82b1\u53bb\u54ea\u4e86 Time spend summary\uff08Top3\uff09",key:"review_time_spend_top3"},{label:"\u4e0b\u5468\u8981\u51cf\u5c11\u7684 1 \u4ef6\u4e8b One thing to cut",key:"review_one_thing_to_cut"}],H=function(e){return void 0===e||null===e?"":Array.isArray(e)?e.join("\n"):String(e)},B=function(e){if(!e)return"";var t=String(e).match(/\d{4}-\d{2}/);return t?t[0]:String(e).split(".")[0]};function K(e){var t=Object(R.f)(),n=Object(c.useState)({}),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)(B(e.date)),d=Object(o.a)(l,2),u=d[0],j=d[1];Object(c.useEffect)((function(){if(e.date){var t=B(e.date);t!==u&&j(t)}}),[e.date,u]),Object(c.useEffect)((function(){u&&s.date!==u&&i((function(e){return Object(T.a)(Object(T.a)({},e),{},{date:u})}))}),[u,s.date]),Object(c.useEffect)((function(){if(e.date){var t="".concat(e.date.split(".")[0],".json"),n="".concat(m,"/json?list=").concat(e.list,"&name=").concat(t);b.a.get(n).then((function(e){i(e.data.data[0].data)}))}}),[e.date,e.list]);var f=function(e,t){i((function(n){return Object(T.a)(Object(T.a)({},n),{},Object(A.a)({},t,e))}))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return Object(a.jsxs)("div",{className:"weekly-2026-edit__field",children:[Object(a.jsx)("label",{className:"weekly-2026-edit__label",htmlFor:e.key,children:e.label}),Object(a.jsx)(U,{id:e.key,rows:t,value:H(s[e.key]),onChange:function(t){return f(t.target.value,e.key)}})]},e.key)};return Object(a.jsxs)("section",{className:"weekly-2026-edit",children:[Object(a.jsxs)("header",{className:"weekly-2026-edit__header",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"weekly-2026-edit__eyebrow",children:"Edit weekly plan"}),Object(a.jsx)("h1",{className:"weekly-2026-edit__title",children:"\u6bcf\u5468\u8ba1\u5212\u7f16\u8f91"})]}),Object(a.jsx)(P.a,{type:"primary",onClick:function(){b.a.post("".concat(m,"/json?list=").concat(e.list),s).then((function(){t.push("/".concat(e.list,"_view"))}))},children:"\u4fdd\u5b58"})]}),Object(a.jsxs)("div",{className:"weekly-2026-edit__meta",children:[Object(a.jsxs)("div",{className:"weekly-2026-edit__field",children:[Object(a.jsx)("label",{className:"weekly-2026-edit__label",htmlFor:"weekly-date",children:"Date"}),Object(a.jsx)(I.a,{id:"weekly-date",value:u,onChange:function(e){return t=e.target.value,j(t),void i((function(e){return Object(T.a)(Object(T.a)({},e),{},{date:t})}));var t}})]}),Object(a.jsxs)("div",{className:"weekly-2026-edit__field",children:[Object(a.jsx)("label",{className:"weekly-2026-edit__label",htmlFor:"keyword",children:"\u672c\u5468\u5173\u952e\u8bcd Keyword"}),Object(a.jsx)(I.a,{id:"keyword",value:H(s.keyword),onChange:function(e){return f(e.target.value,"keyword")}})]})]}),Object(a.jsx)("div",{className:"weekly-2026-edit__grid",children:L.map((function(e){return Object(a.jsxs)("div",{className:"weekly-2026-edit__section",children:[Object(a.jsx)("h2",{children:e.title}),Object(a.jsx)("div",{className:"weekly-2026-edit__list",children:e.items.map((function(e){return h(e)}))})]},e.title)}))}),Object(a.jsxs)("div",{className:"weekly-2026-edit__section weekly-2026-edit__section--wide",children:[Object(a.jsx)("h2",{children:"\ud83e\udde0 \u6bcf\u5468\u590d\u76d8\uff08\u5468\u65e5 15\u201330 \u5206\u949f\uff09"}),Object(a.jsx)("div",{className:"weekly-2026-edit__list",children:z.map((function(e){return h(e,3)}))})]})]})}function M(e){var t=Object(c.useState)(e.date),n=Object(o.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(!0),l=Object(o.a)(i,2),d=l[0],u=l[1],j=Object(c.useState)(0),f=Object(o.a)(j,1)[0];return Object(c.useEffect)((function(){""===r?b.a.get("".concat(m,"/date?list=").concat(e.list)).then((function(e){s(e.data.date),u(!1)})):u(!1)}),[f]),d?Object(a.jsx)(a.Fragment,{}):"weekly_2026"===e.list?Object(a.jsx)(K,{list:e.list,date:r}):Object(a.jsx)(F,{list:e.list,date:r})}var G=I.a.TextArea;function W(e){var t,n=Object(c.useState)(0),r=Object(o.a)(n,1)[0],s=Object(c.useState)({}),i=Object(o.a)(s,2),l=i[0],d=i[1],u=Object(c.useState)(10),j=Object(o.a)(u,2),f=j[0],h=j[1],p=Object(R.f)();Object(c.useEffect)((function(){if(void 0!==e.name&&null!==e.name&&""!==e.name){var t="".concat(m,"/file?list=").concat(e.list,"&name=").concat(e.name);b.a.get(t).then((function(e){d(e.data.data[0]),h(e.data.data[0].content.split("\n").length+10)}))}}),[r]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(G,{rows:f,onChange:function(e){return t=e.target.value,console.log(l),void d(Object(T.a)(Object(T.a)({},l),{},{content:t}));var t},value:null!==(t=l.content)&&void 0!==t?t:""}),Object(a.jsx)(P.a,{type:"primary",onClick:function(){b.a.post("".concat(m,"/file?list=").concat(e.list,"&name=").concat(e.name),l).then((function(){p.push("/markdown_show?list=".concat(e.list,"&name=").concat(e.name))}))},children:"submit"})]})}function Y(e){var t=Object(c.useState)(0),n=Object(o.a)(t,1)[0],r=Object(c.useState)(""),s=Object(o.a)(r,2),i=s[0],l=s[1],d=Object(R.f)();return Object(c.useEffect)((function(){b.a.get("".concat(m,"/file?name=").concat(e.name,"&list=").concat(e.list)).then((function(e){l(e.data.data[0].content)}))}),[n]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{source:i}),Object(a.jsx)(P.a,{type:"primary",onClick:function(){d.push("/markdown_edit?list=".concat(e.list,"&name=").concat(e.name))},children:"edit"})]})}function q(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),l=i[0],d=i[1],u=Object(c.useState)(!0),j=Object(o.a)(u,2),f=j[0],h=j[1];return Object(c.useEffect)((function(){b.a.get("".concat(m,"/file?list=read")).then((function(e){r(e.data.data.map((function(e){return{name:e.name}})))})),console.log(n)}),[0,f]),f?Object(a.jsx)(a.Fragment,{children:n.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("a",{onClick:function(){d(e.name),h(!1)},children:[t,". ",e.name]},e.name),Object(a.jsx)("br",{})]})}))}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Y,{name:l,list:"read"}),Object(a.jsx)(P.a,{type:"primary",onClick:function(){h(!0)},children:"back"})]})}var Z=n(205);function J(e){var t=Object(Z.a)("AIzaSyCjHEC0qECrtqhg74yjnAiAkcbpx0TtKuA",{zoom:10,center:{lat:37.3984,lng:-122.01233}}),n=t.ref,c=t.map,r=t.google;return console.log(e.list),c&&e.list&&e.list.map((function(e){new r.maps.Marker({label:e.name.split(".")[0],position:e.latlng,map:c})})),Object(a.jsx)("div",{ref:n,style:{width:"100%",height:500}})}function V(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),l=Object(o.a)(i,2),d=l[0],u=l[1],j=Object(c.useState)(!0),f=Object(o.a)(j,2),h=f[0],p=f[1],x=Object(R.f)();return Object(c.useEffect)((function(){b.a.get("".concat(m,"/file?list=").concat(e.list)).then((function(t){e.list.includes("tour")||e.list.includes("resturant")?s(t.data.data.filter((function(e){return!e.name.includes("9999")})).map((function(e){return{name:e.name,latlng:e.latlng}}))):s(t.data.data.filter((function(e){return!e.name.includes("9999")})).map((function(e){return{name:e.name}})))}))}),[0,h]),h?Object(a.jsxs)(a.Fragment,{children:[r.sort((function(e,t){return t.name.localeCompare(e.name)})).map((function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("a",{onClick:function(){u(e.name),p(!1)},children:[t,". ",e.name]},e.name),Object(a.jsx)("br",{})]})})),e.list.includes("tour")||e.list.includes("resturant")?Object(a.jsx)(J,{list:r}):Object(a.jsx)(a.Fragment,{})]}):Object(a.jsxs)(a.Fragment,{children:["weekly_2026"===e.list?Object(a.jsx)(k,{name:d,list:e.list}):Object(a.jsx)(C,{name:d,list:e.list,onlynext:!1}),Object(a.jsx)(P.a,{type:"primary",onClick:function(){p(!0)},children:"back"}),Object(a.jsx)(P.a,{type:"primary",onClick:function(){x.push("/".concat(e.list,"_edit?date=").concat(d))},children:"edit"}),Object(a.jsx)("br",{})]})}var X=n(216),$=n(418),Q=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(R.f)(),i=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,b.a.post("".concat(x,"/signin"),t);case 4:(n=e.sent).data.success?(X.b.success("Sign in successful"),localStorage.setItem("authToken",n.data.token),s.push("/")):X.b.error("Sign in failed"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),X.b.error("An error occurred. Please try again.");case 11:r(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)($.a,{name:"signin",onFinish:i,style:{maxWidth:300,margin:"0 auto",marginTop:100},children:[Object(a.jsx)($.a.Item,{name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(a.jsx)(I.a,{placeholder:"Username"})}),Object(a.jsx)($.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(a.jsx)(I.a.Password,{placeholder:"Password"})}),Object(a.jsx)($.a.Item,{children:Object(a.jsx)(P.a,{type:"primary",htmlType:"submit",loading:n,style:{width:"100%"},children:"Sign In"})})]})},ee={food:{title:"\ud83c\udf5a \u98df\u7269\uff1a\u751f\u7269\u57fa\u7840\u8f93\u5165",desc:"\u8fd9\u4e0d\u662f\u7b80\u5355\u7684\u5403\u996d\uff0c\u800c\u662f\u4f60\u6784\u5efa\u7269\u7406\u8eab\u4f53\u7684\u201c\u539f\u6750\u6599\u201d\u3002<br><b>\u5b8f\u89c2\u89c6\u89d2\uff1a</b>\u52a3\u8d28\u8f93\u5165\u5bfc\u81f4\u8eab\u4f53\u708e\u75c7\u4e0e\u8111\u96fe\uff0c\u76f4\u63a5\u964d\u4f4e\u51b3\u7b56\u6838\u5fc3\u7684\u8ba1\u7b97\u7cbe\u5ea6\u3002\u4f60\u5403\u8fdb\u53bb\u7684\u6bcf\u4e00\u53e3\uff0c\u90fd\u5728\u5b9a\u4e49\u4f60\u4e0b\u5468\u7684\u80fd\u91cf\u57fa\u51c6\u7ebf\u3002"},info:{title:"\ud83d\udcf1 \u4fe1\u606f\uff1a\u610f\u8bc6\u6d41\u8f93\u5165",desc:"\u7531\u201c\u65f6\u95f4\u201d\u51b3\u5b9a\u7684\u4e8c\u7ea7\u53d8\u91cf\u3002\u4f60\u5173\u6ce8\u4ec0\u4e48\uff0c\u4f60\u5c31\u6210\u4e3a\u4ec0\u4e48\u3002<br><b>\u6838\u5fc3\u903b\u8f91\uff1a</b>\u88ab\u52a8\u5237\u77ed\u89c6\u9891\u662f\u201c\u4f4e\u5bc6\u5ea6\u71b5\u589e\u8f93\u5165\u201d\uff0c\u6df1\u5ea6\u9605\u8bfb\u662f\u201c\u7ed3\u6784\u5316\u7b97\u6cd5\u4f18\u5316\u201d\u3002\u4fe1\u606f\u8f93\u5165\u51b3\u5b9a\u4e86\u4f60\u51b3\u7b56\u6838\u5fc3\u7684\u53c2\u8003\u7cfb\u3002"},energy:{title:"\u26a1 \u80fd\u91cf\u72b6\u6001 (System Capacity)",desc:"\u7cfb\u7edf\u8fd0\u884c\u7684\u786c\u4ef6\u9650\u5236\u3002\u7761\u7720\u3001\u8fd0\u52a8\u4e0e\u538b\u529b\u6c34\u5e73\u51b3\u5b9a\u4e86\u4f60\u73b0\u5728\u7684\u201c\u5e26\u5bbd\u201d\u3002<br><b>\u8b66\u793a\uff1a</b>\u5728\u4f4e\u80fd\u91cf\u72b6\u6001\u4e0b\uff0c\u5927\u8111\u4f1a\u81ea\u52a8\u5207\u6362\u5230\u201c\u4f4e\u80fd\u8017\u6a21\u5f0f\u201d\uff0c\u6b64\u65f6\u4f60\u65e0\u6cd5\u8fdb\u884c\u957f\u8fdc\u89c4\u5212\uff0c\u53ea\u80fd\u505a\u51fa\u5373\u65f6\u672c\u80fd\u53cd\u5e94\u3002"},human:{title:"\ud83e\udde0 \u51b3\u7b56\u6838\u5fc3\uff1a\u4f5c\u4e3a\u8c03\u5ea6\u5458\u7684\u4f60",desc:"\u4eba\u672c\u8eab\u4e0d\u8d1f\u8d23\u5236\u9020\u7269\u8d28\uff0c\u4eba\u8d1f\u8d23<b>\u8d44\u6e90\u7684\u91cd\u5b9a\u5411</b>\u3002<br><b>\u64cd\u4f5c\u903b\u8f91\uff1a</b>\u901a\u8fc7\u63a7\u5236\u201c\u65f6\u95f4\u201d\u3001\u201c\u91d1\u94b1\u201d\u3001\u201c\u60c5\u611f\u201d\u8fd9\u4e09\u4e2a\u65cb\u94ae\uff0c\u4f60\u5c06\u8f93\u5165\u7684\u80fd\u91cf\u8f6c\u5316\u4e3a\u4ea7\u51fa\u7684\u7ed3\u679c\u3002\u8fd9\u662f\u4f60\u552f\u4e00\u62e5\u6709\u4e3b\u6743\u7684\u5730\u65b9\u3002"},env:{title:"\ud83c\udf0d \u73af\u5883/\u9ed8\u8ba4\u9009\u9879 (Defaults)",desc:"\u6f5c\u610f\u8bc6\u7684\u91cd\u529b\u3002\u5982\u679c\u4f60\u9700\u8981\u4f9d\u9760\u201c\u610f\u5fd7\u529b\u201d\u53bb\u5b66\u4e60\uff0c\u8bf4\u660e\u4f60\u7684\u73af\u5883\u914d\u7f6e\u51fa\u9519\u4e86\u3002<br><b>\u7b56\u7565\uff1a</b>\u4fee\u6539\u73af\u5883\u53c2\u6570\uff08\u5982\u8fdc\u79bb\u6d88\u8017\u4f60\u7684\u4eba\u3001\u6e05\u7406\u624b\u673a\u9996\u5c4f\uff09\uff0c\u8ba9\u6b63\u786e\u7684\u51b3\u7b56\u6210\u4e3a\u201c\u963b\u529b\u6700\u5c0f\u201d\u7684\u8def\u5f84\u3002"},long_term:{title:"\ud83c\udfaf \u957f\u671f\u76ee\u6807\uff1a\u5e95\u5c42\u7684 Value Function",desc:"\u8fd9\u662f\u7cfb\u7edf\u7684\u201c\u5317\u6781\u661f\u201d\u3002\u6ca1\u6709\u5b83\uff0c\u4f60\u7684\u51b3\u7b56\u6838\u5fc3\u4f1a\u9677\u5165\u5373\u65f6\u6ee1\u8db3\u7684\u65e0\u9650\u5faa\u73af\u3002<br><b>\u672c\u8d28\uff1a</b>\u5b83\u662f\u7528\u6765\u5728\u591a\u4e2a\u9009\u62e9\u51b2\u7a81\u65f6\uff0c\u63d0\u4f9b\u6743\u91cd\u5224\u65ad\u7684\u7ec8\u6781\u4f9d\u636e\u3002\u5b83\u51b3\u5b9a\u4e86\u4f60\u4e3a\u4f55\u8981\u653e\u5f03\u5f53\u4e0b\u7684\u5b89\u9038\u53bb\u6295\u5411\u957f\u671f\u7684\u5efa\u8bbe\u3002"},time_alloc:{title:"\ud83d\udd70 \u65f6\u95f4\u5206\u914d\uff1a\u6700\u7a00\u7f3a\u7684\u4e0d\u53ef\u518d\u751f\u8d44\u6e90",desc:"\u4f60\u628a\u65f6\u95f4\u7ed9\u8c01\uff0c\u5c31\u662f\u5728\u7ed9\u8c01\u6388\u6743\u53bb\u5851\u9020\u4f60\u7684\u672a\u6765\u3002\u8fd9\u662f\u6700\u76f4\u63a5\u7684\u4ea7\u51fa\u3002"},money_alloc:{title:"\ud83d\udcb0 \u91d1\u94b1\u6295\u5411\uff1a\u4ef7\u503c\u89c2\u7684\u8d27\u5e01\u5316\u4f53\u73b0",desc:"\u770b\u4e00\u4e2a\u4eba\u5728\u4e4e\u4ec0\u4e48\uff0c\u4e0d\u8981\u542c\u4ed6\u8bf4\u4e86\u4ec0\u4e48\uff0c\u770b\u4ed6\u7684\u8d26\u5355\u3002\u91d1\u94b1\u7684\u6d41\u52a8\u8def\u5f84\u5c31\u662f\u4f60\u6743\u529b\u7684\u5ef6\u4f38\u3002"},emo_inv:{title:"\ud83e\udec2 \u60c5\u611f\u6295\u5165\uff1a\u6df1\u5c42\u5173\u7cfb\u7684\u80fd\u91cf\u8026\u5408",desc:"\u60c5\u611f\u4e0d\u662f\u865a\u65e0\u7684\uff0c\u5b83\u662f\u9ad8\u8d28\u91cf\u7684\u6ce8\u610f\u529b\u548c\u5fc3\u7406\u7a7a\u95f4\u3002\u9519\u8bef\u7684\u6295\u5165\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u5185\u90e8\u957f\u671f\u6f0f\u7535\u3002"},experience:{title:"\ud83e\uddec \u7ecf\u9a8c\uff1a\u5386\u53f2\u51b3\u7b56\u7684\u7b97\u6cd5\u5316",desc:"\u66fe\u7ecf\u7684\u51b3\u7b56\u4ea7\u51fa\uff0c\u7ecf\u8fc7\u65f6\u95f4\u6c89\u6dc0\u540e\uff0c\u53cd\u5411\u6210\u4e3a\u7cfb\u7edf\u72b6\u6001\u7684\u4e00\u90e8\u5206\u3002\u597d\u7684\u7ecf\u9a8c\u7f29\u77ed\u51b3\u7b56\u8def\u5f84\u3002"},emotion:{title:"\u2764\ufe0f \u60c5\u7eea\uff1a\u77ac\u65f6\u53cd\u9988\u4fe1\u53f7",desc:"\u5b83\u662f\u7cfb\u7edf\u5bf9\u5916\u90e8\u8f93\u5165\u7684\u4e00\u79cd\u5feb\u901f\u8bc4\u4f30\uff0c\u4f46\u4e0d\u5e94\u76f4\u63a5\u63a7\u5236\u51b3\u7b56\u4e2d\u5fc3\u3002\u4f18\u79c0\u7684\u51b3\u7b56\u8005\u89c2\u5bdf\u60c5\u7eea\uff0c\u4f46\u4e0d\u88ab\u60c5\u7eea\u9a71\u52a8\u3002"}};var te=function(){var e,t=Object(R.f)(),n=Object(c.useState)(null),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)("#34495e"),d=Object(o.a)(l,2),u=d[0],j=d[1],b=Object(c.useRef)(null),f=s?ee[s]:null,h=function(e){i(e),j("#2c3e50"),b.current&&clearTimeout(b.current),b.current=setTimeout((function(){j("#34495e")}),120)};return Object(c.useEffect)((function(){return function(){b.current&&clearTimeout(b.current)}}),[]),Object(a.jsxs)("div",{className:"life-system",children:[Object(a.jsx)("style",{children:'\n        .life-system {\n          --bg-color: #f8f9fa;\n          --input-blue: #e3f2fd;\n          --core-yellow: #fff9c4;\n          --output-green: #e8f5e9;\n          --accent-red: #ffebee;\n          --border-color: #cfd8dc;\n          --text-main: #2c3e50;\n          font-family: "Segoe UI", system-ui, -apple-system, sans-serif;\n          color: var(--text-main);\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          padding: 20px;\n          margin: 0;\n          background-color: var(--bg-color);\n          border-radius: 16px;\n        }\n        .life-system h1 {\n          font-weight: 300;\n          margin-bottom: 30px;\n        }\n        .life-system .container {\n          display: flex;\n          gap: 20px;\n          max-width: 1100px;\n          width: 100%;\n          padding: 20px;\n          background: white;\n          border-radius: 24px;\n          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);\n          border: 1px solid var(--border-color);\n        }\n        .life-system .section {\n          padding: 20px;\n          border-radius: 16px;\n          display: flex;\n          flex-direction: column;\n          gap: 15px;\n          transition: all 0.3s ease;\n        }\n        .life-system .node {\n          padding: 15px;\n          background: white;\n          border-radius: 12px;\n          border: 2px solid transparent;\n          cursor: pointer;\n          text-align: center;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n          transition: transform 0.2s, border-color 0.2s;\n          position: relative;\n        }\n        .life-system .node:hover {\n          transform: translateY(-3px);\n          border-color: #90caf9;\n        }\n        .life-system .node h4 {\n          margin: 0 0 5px 0;\n          font-size: 16px;\n        }\n        .life-system .node p {\n          margin: 0;\n          font-size: 12px;\n          color: #666;\n        }\n        .life-system .inputs {\n          background-color: var(--input-blue);\n          flex: 1;\n        }\n        .life-system .core {\n          background-color: var(--core-yellow);\n          flex: 2;\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 10px;\n        }\n        .life-system .outputs {\n          background-color: var(--output-green);\n          flex: 1;\n        }\n        .life-system .decision-center {\n          grid-column: span 2;\n          background: #fff3e0;\n          border: 2px solid #ffb74d;\n          font-weight: bold;\n        }\n        .life-system .hidden-vars {\n          margin-top: 20px;\n          display: flex;\n          gap: 15px;\n          width: 100%;\n          max-width: 1100px;\n        }\n        .life-system .hidden-node {\n          flex: 1;\n          background-color: var(--accent-red);\n          padding: 15px;\n          border-radius: 12px;\n          text-align: center;\n          cursor: pointer;\n          border: 1px dashed #ef9a9a;\n        }\n        .life-system #detail-panel {\n          margin-top: 30px;\n          padding: 25px;\n          max-width: 800px;\n          width: 100%;\n          color: white;\n          border-radius: 16px;\n          min-height: 100px;\n          transition: background-color 0.2s ease;\n        }\n        .life-system #detail-title {\n          margin-top: 0;\n          color: #ffab91;\n        }\n        .life-system #detail-content {\n          line-height: 1.6;\n        }\n        .life-system .arrow {\n          text-align: center;\n          align-self: center;\n          color: #bdc3c7;\n          font-size: 24px;\n        }\n        @media (max-width: 900px) {\n          .life-system .container {\n            flex-direction: column;\n          }\n          .life-system .arrow {\n            transform: rotate(90deg);\n          }\n        }\n      '}),Object(a.jsx)("h1",{children:"\u4e2a\u4eba\u7cfb\u7edf\u67b6\u6784\u6a21\u578b v1.0"}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"section inputs",children:[Object(a.jsx)("h3",{children:"\ud83d\udce5 Inputs \u8f93\u5165"}),Object(a.jsxs)("div",{className:"node",onClick:function(){t.push("/food")},children:[Object(a.jsx)("h4",{children:"\ud83c\udf5a \u98df\u7269"}),Object(a.jsx)("p",{children:"\u7269\u7406\u5b9e\u4f53\u7684\u751f\u7269\u5316\u5b66\u8f93\u5165"})]}),Object(a.jsxs)("div",{className:"node",onClick:function(){return h("info")},children:[Object(a.jsx)("h4",{children:"\ud83d\udcf1 \u4fe1\u606f"}),Object(a.jsx)("p",{children:"\u601d\u7ef4\u610f\u8bc6\u7684\u6570\u636e\u6d41\u8f93\u5165"})]})]}),Object(a.jsx)("div",{className:"arrow",children:"\u2192"}),Object(a.jsxs)("div",{className:"section core",children:[Object(a.jsx)("h3",{style:{gridColumn:"span 2",margin:0},children:"\ud83e\udde0 System State & Core"}),Object(a.jsxs)("div",{className:"node",onClick:function(){return h("energy")},children:[Object(a.jsx)("h4",{children:"\u26a1 \u80fd\u91cf/\u4f53\u529b"}),Object(a.jsx)("p",{children:"\u7cfb\u7edf\u7684CPU\u9891\u7387"})]}),Object(a.jsxs)("div",{className:"node",onClick:function(){return h("experience")},children:[Object(a.jsx)("h4",{children:"\ud83e\uddec \u7ecf\u9a8c"}),Object(a.jsx)("p",{children:"\u8fc7\u5f80\u6c89\u6dc0\u7684\u6a21\u578b\u7b97\u6cd5"})]}),Object(a.jsx)("div",{className:"node decision-center",onClick:function(){return h("human")},children:"Decision Core \u51b3\u7b56\u6838\u5fc3\uff08\u4eba\uff09"}),Object(a.jsxs)("div",{className:"node",onClick:function(){return h("emotion")},children:[Object(a.jsx)("h4",{children:"\u2764\ufe0f \u60c5\u7eea"}),Object(a.jsx)("p",{children:"\u5f53\u524d\u7cfb\u7edf\u7684\u7535\u538b\u6270\u52a8"})]}),Object(a.jsxs)("div",{className:"node",onClick:function(){return h("env")},children:[Object(a.jsx)("h4",{children:"\ud83c\udf0d \u73af\u5883/\u9ed8\u8ba4\u9879"}),Object(a.jsx)("p",{children:"\u9690\u5f62\u7684\u5916\u90e8\u6469\u64e6\u529b"})]})]}),Object(a.jsx)("div",{className:"arrow",children:"\u2192"}),Object(a.jsxs)("div",{className:"section outputs",children:[Object(a.jsx)("h3",{children:"\ud83d\udce4 Outputs \u4ea7\u51fa"}),Object(a.jsx)("div",{className:"node",onClick:function(){window.location.href="https://time.tczhong.com/"},children:Object(a.jsx)("h4",{children:"\ud83d\udd70 \u65f6\u95f4\u5206\u914d"})}),Object(a.jsx)("div",{className:"node",onClick:function(){window.location.href="https://ira.empower-retirement.com/dashboard/#/user/home"},children:Object(a.jsx)("h4",{children:"\ud83d\udcb0 \u91d1\u94b1\u6295\u5411"})}),Object(a.jsx)("div",{className:"node",onClick:function(){return h("emo_inv")},children:Object(a.jsx)("h4",{children:"\ud83e\udec2 \u60c5\u611f\u6295\u5165"})})]})]}),Object(a.jsx)("div",{className:"hidden-vars",children:Object(a.jsx)("div",{className:"hidden-node",onClick:function(){return h("long_term")},children:"\ud83c\udfaf \u957f\u671f\u76ee\u6807 / \u5185\u5728\u4ef7\u503c\u51fd\u6570 (Hidden Function)"})}),Object(a.jsxs)("div",{id:"detail-panel",style:{backgroundColor:u},children:[Object(a.jsx)("h3",{id:"detail-title",children:f?f.title:"\u70b9\u51fb\u4e0a\u65b9\u6a21\u5757\u67e5\u770b\u903b\u8f91\u7ec6\u8282"}),Object(a.jsx)("div",{id:"detail-content",dangerouslySetInnerHTML:{__html:null!==(e=null===f||void 0===f?void 0:f.desc)&&void 0!==e?e:"\u70b9\u51fb\u7cfb\u7edf\u4e2d\u7684\u4efb\u610f\u7ec4\u4ef6\uff0c\u67e5\u770b\u5b83\u662f\u5982\u4f55\u5f71\u54cd\u4f60\u7684\u4eba\u751f\u6574\u4f53\u8fd0\u884c\u7684\u3002"}})]})]})},ne=n(73),ae=I.a.TextArea,ce=ne.a.Option,re="".concat(h,"/food"),se=function(e){var t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a)},ie=function(e){var t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0");return"".concat(t,":").concat(n)},oe=function(e){var t=e.split("-").map(Number),n=Object(o.a)(t,3),a=n[0],c=n[1],r=n[2];return a&&c&&r?new Date(a,c-1,r):null},le=function(e,t){var n=[],a=oe(e),c=oe(t);if(!a||!c)return n;for(var r=new Date(a);r<=c;)n.push(se(r)),r.setDate(r.getDate()+1);return n},de=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(){return n(new Error("Failed to read image"))},a.readAsDataURL(e)}))};var ue=function(){var e=Object(c.useMemo)((function(){return new Date}),[]),t=Object(c.useState)(""),n=Object(o.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)("lunch"),l=Object(o.a)(i,2),j=l[0],b=l[1],f=Object(c.useState)(se(e)),h=Object(o.a)(f,2),m=h[0],p=h[1],x=Object(c.useState)(ie(e)),O=Object(o.a)(x,2),g=O[0],v=O[1],y=Object(c.useState)(null),_=Object(o.a)(y,2),k=_[0],w=_[1],S=Object(c.useState)(""),N=Object(o.a)(S,2),C=N[0],E=N[1],A=Object(c.useState)(!1),T=Object(o.a)(A,2),I=T[0],R=T[1],D=Object(c.useState)(""),F=Object(o.a)(D,2),U=F[0],L=F[1],z=Object(c.useState)(null),H=Object(o.a)(z,2),B=H[0],K=H[1],M=Object(c.useState)(""),G=Object(o.a)(M,2),W=G[0],Y=G[1],q=Object(c.useState)(se(e)),Z=Object(o.a)(q,2),J=Z[0],V=Z[1],X=Object(c.useState)(ie(e)),$=Object(o.a)(X,2),Q=$[0],ee=$[1],te=Object(c.useState)("lunch"),oe=Object(o.a)(te,2),ue=oe[0],je=oe[1],be=Object(c.useState)(!1),fe=Object(o.a)(be,2),he=fe[0],me=fe[1],pe=Object(c.useState)(""),xe=Object(o.a)(pe,2),Oe=xe[0],ge=xe[1],ve=Object(c.useMemo)((function(){return se(e)}),[e]),ye=Object(c.useState)(ve),_e=Object(o.a)(ye,2),ke=_e[0],we=_e[1],Se=Object(c.useState)(ve),Ne=Object(o.a)(Se,2),Ce=Ne[0],Ee=Ne[1],Ae=Object(c.useState)([]),Te=Object(o.a)(Ae,2),Ie=Te[0],Pe=Te[1],Re=Object(c.useState)(""),De=Object(o.a)(Re,2),Fe=De[0],Ue=De[1],Le=Object(c.useMemo)((function(){if(!m||!g)return"";var e=new Date("".concat(m,"T").concat(g,":00"));return Number.isNaN(e.getTime())?"":e.toISOString()}),[m,g]),ze=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.trim()){e.next=3;break}return L("\u8bf7\u586b\u5199\u98df\u7269\u63cf\u8ff0\u3002"),e.abrupt("return");case 3:if(Le){e.next=6;break}return L("\u8bf7\u9009\u62e9\u65e5\u671f\u548c\u65f6\u95f4\u3002"),e.abrupt("return");case 6:if(R(!0),L("\u6b63\u5728\u63d0\u4ea4..."),e.prev=8,!k){e.next=15;break}return e.next=12,de(k);case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0="";case 16:return t=e.t0,n={food_description:r.trim(),timestamp:Le,meal_type:j},t&&(n.image_url=t),e.next=21,fetch("".concat(re,"/log"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 21:return a=e.sent,e.next=24,a.json();case 24:if(c=e.sent,a.ok&&"error"!==c.status){e.next=27;break}throw new Error(c.message||"\u63d0\u4ea4\u5931\u8d25");case 27:L("\u5df2\u8bb0\u5f55\u98df\u7269\u65e5\u5fd7\u3002"),s(""),w(null),E(""),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(8),L(e.t1.message||"\u63d0\u4ea4\u5931\u8d25");case 36:return e.prev=36,R(!1),e.finish(36);case 39:case"end":return e.stop()}}),e,null,[[8,33,36,39]])})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B){e.next=3;break}return ge("\u8bf7\u4e0a\u4f20\u9910\u98df\u56fe\u7247\u3002"),e.abrupt("return");case 3:return me(!0),ge("\u6b63\u5728\u63d0\u4ea4..."),e.prev=5,e.next=8,de(B);case 8:return t=e.sent,n={photo_base64:t,meal_type:ue},J&&Q&&(a=new Date("".concat(J,"T").concat(Q,":00")).toISOString(),n.timestamp=a),e.next=13,fetch("".concat(re,"/add_meal"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 13:return c=e.sent,e.next=16,c.json();case 16:if(r=e.sent,c.ok&&"error"!==r.status){e.next=19;break}throw new Error(r.message||"\u63d0\u4ea4\u5931\u8d25");case 19:ge("\u5df2\u4e0a\u4f20\u9910\u98df\u5e76\u8bb0\u5f55\u3002"),K(null),Y(""),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(5),ge(e.t0.message||"\u63d0\u4ea4\u5931\u8d25");case 27:return e.prev=27,me(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[5,24,27,30]])})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ke&&Ce){e.next=3;break}return Ue("\u8bf7\u9009\u62e9\u5f00\u59cb\u548c\u7ed3\u675f\u65e5\u671f\u3002"),e.abrupt("return");case 3:if(Ue("\u52a0\u8f7d\u4e2d..."),e.prev=4,(t=le(ke,Ce)).length){e.next=10;break}return Pe([]),Ue("\u65e5\u671f\u8303\u56f4\u65e0\u6548\u3002"),e.abrupt("return");case 10:return e.next=12,Promise.all(t.map((function(e){return fetch("".concat(re,"/daily/").concat(e)).then((function(e){return e.json()}))})));case 12:n=e.sent,(a=n.flatMap((function(e){return Array.isArray(null===e||void 0===e?void 0:e.data)?e.data:[]}))).sort((function(e,t){var n=new Date(e.timestamp||"".concat(e.date,"T00:00:00")).getTime();return new Date(t.timestamp||"".concat(t.date,"T00:00:00")).getTime()-n})),Pe(a),Ue(a.length?"":"\u6682\u65e0\u8bb0\u5f55"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),Ue(e.t0.message||"\u52a0\u8f7d\u5931\u8d25");case 22:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"food-log-page",children:[Object(a.jsx)("style",{children:'\n        @import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Fraunces:opsz,wght@9..144,500;9..144,700&display=swap");\n        .food-log-page {\n          --sand: #f7f2ea;\n          --clay: #d88f6f;\n          --olive: #6a7c59;\n          --ink: #2a2b2f;\n          --cream: #fffdf9;\n          --sky: #f0f4f8;\n          font-family: "Space Grotesk", system-ui, -apple-system, sans-serif;\n          color: var(--ink);\n          max-width: 980px;\n          margin: 0 auto;\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n          padding: 8px 4px 32px;\n        }\n        .food-log-hero {\n          padding: 24px 28px;\n          border-radius: 20px;\n          background: radial-gradient(circle at top left, #fff3e6 0%, #f6efe6 55%, #f0e8dd 100%);\n          border: 1px solid #e6d7c8;\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          animation: fadeIn 0.6s ease;\n        }\n        .food-log-hero h1 {\n          font-family: "Fraunces", serif;\n          font-size: 32px;\n          margin: 0;\n        }\n        .food-log-hero p {\n          margin: 0;\n          color: #63584e;\n        }\n        .food-log-card {\n          padding: 20px;\n          border-radius: 16px;\n          background: var(--cream);\n          border: 1px solid #e3d6c8;\n          box-shadow: 0 16px 30px rgba(42, 43, 47, 0.08);\n          animation: fadeIn 0.8s ease;\n        }\n        .food-log-card h2 {\n          margin-top: 0;\n          font-size: 22px;\n        }\n        .food-log-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n          gap: 16px;\n          align-items: center;\n        }\n        .food-log-field label {\n          display: block;\n          font-size: 12px;\n          text-transform: uppercase;\n          letter-spacing: 0.08em;\n          margin-bottom: 6px;\n          color: #6b5d50;\n        }\n        .food-log-actions {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          flex-wrap: wrap;\n        }\n        .food-log-preview {\n          width: 140px;\n          height: 140px;\n          border-radius: 12px;\n          border: 1px dashed #c9b8a8;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          overflow: hidden;\n          background: #fff;\n          color: #9b8b7c;\n        }\n        .food-log-preview img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        .food-log-status {\n          color: #7f6c5d;\n        }\n        .food-log-table {\n          width: 100%;\n          border-collapse: collapse;\n        }\n        .food-log-table th,\n        .food-log-table td {\n          padding: 10px 12px;\n          border-bottom: 1px solid #e0d6cc;\n          text-align: left;\n          font-size: 14px;\n        }\n        .food-log-table th {\n          background: #f0e9e0;\n          font-weight: 600;\n        }\n        .food-log-empty {\n          padding: 12px 0;\n          color: #7f6c5d;\n        }\n        .food-log-button {\n          background: var(--olive);\n          border-color: var(--olive);\n        }\n        .food-log-button:hover,\n        .food-log-button:focus {\n          background: #5a6b4a;\n          border-color: #5a6b4a;\n        }\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(8px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n      '}),Object(a.jsxs)("div",{className:"food-log-hero",children:[Object(a.jsx)("h1",{children:"\u98df\u7269\u8bb0\u5f55\u53f0"}),Object(a.jsx)("p",{children:"\u7528\u5f71\u50cf\u4e0e\u65f6\u95f4\u523b\u753b\u4f60\u7684\u80fd\u91cf\u66f2\u7ebf\u3002"})]}),Object(a.jsxs)("div",{className:"food-log-card",children:[Object(a.jsx)("h2",{children:"\ud83c\udf71 \u98df\u7269\u8bb0\u5f55"}),Object(a.jsxs)("div",{className:"food-log-grid",children:[Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u98df\u7269\u63cf\u8ff0"}),Object(a.jsx)(ae,{rows:2,value:r,onChange:function(e){return s(e.target.value)},placeholder:"\u4f8b\u5982: \u725b\u8089\u9762"})]}),Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u9910\u6b21"}),Object(a.jsxs)(ne.a,{value:j,onChange:b,children:[Object(a.jsx)(ce,{value:"breakfast",children:"breakfast"}),Object(a.jsx)(ce,{value:"lunch",children:"lunch"}),Object(a.jsx)(ce,{value:"dinner",children:"dinner"}),Object(a.jsx)(ce,{value:"snack",children:"snack"})]})]}),Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u65e5\u671f"}),Object(a.jsx)("input",{type:"date",value:m,onChange:function(e){return p(e.target.value)}})]}),Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u65f6\u95f4"}),Object(a.jsx)("input",{type:"time",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u4e0a\u4f20\u56fe\u7247"}),Object(a.jsxs)("div",{className:"food-log-actions",children:[Object(a.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files&&e.target.files[0];if(w(t||null),t){var n=new FileReader;n.onload=function(){return E(n.result||"")},n.readAsDataURL(t)}else E("")}}),Object(a.jsx)("div",{className:"food-log-preview",children:C?Object(a.jsx)("img",{src:C,alt:"\u9884\u89c8"}):Object(a.jsx)("span",{children:"\u6682\u65e0\u56fe\u7247"})})]})]})]}),Object(a.jsxs)("div",{style:{marginTop:16},children:[Object(a.jsx)(P.a,{type:"primary",className:"food-log-button",onClick:ze,loading:I,children:"\u8bb0\u5f55\u98df\u7269"}),U?Object(a.jsx)("span",{className:"food-log-status",style:{marginLeft:12},children:U}):null]})]}),Object(a.jsxs)("div",{className:"food-log-card",children:[Object(a.jsx)("h2",{children:"\ud83d\udcf7 \u4e0a\u4f20\u9910\u98df\uff08\u8bc6\u522b\u591a\u4e2a\u98df\u7269\uff09"}),Object(a.jsxs)("div",{className:"food-log-grid",children:[Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u9910\u6b21"}),Object(a.jsxs)(ne.a,{value:ue,onChange:je,children:[Object(a.jsx)(ce,{value:"breakfast",children:"breakfast"}),Object(a.jsx)(ce,{value:"lunch",children:"lunch"}),Object(a.jsx)(ce,{value:"dinner",children:"dinner"}),Object(a.jsx)(ce,{value:"snack",children:"snack"})]})]}),Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u65e5\u671f"}),Object(a.jsx)("input",{type:"date",value:J,onChange:function(e){return V(e.target.value)}})]}),Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u65f6\u95f4"}),Object(a.jsx)("input",{type:"time",value:Q,onChange:function(e){return ee(e.target.value)}})]}),Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u4e0a\u4f20\u56fe\u7247"}),Object(a.jsxs)("div",{className:"food-log-actions",children:[Object(a.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files&&e.target.files[0];if(K(t||null),t){var n=new FileReader;n.onload=function(){return Y(n.result||"")},n.readAsDataURL(t)}else Y("")}}),Object(a.jsx)("div",{className:"food-log-preview",children:W?Object(a.jsx)("img",{src:W,alt:"\u9910\u98df\u9884\u89c8"}):Object(a.jsx)("span",{children:"\u6682\u65e0\u56fe\u7247"})})]})]})]}),Object(a.jsxs)("div",{style:{marginTop:16},children:[Object(a.jsx)(P.a,{type:"primary",className:"food-log-button",onClick:He,loading:he,children:"\u4e0a\u4f20\u9910\u98df"}),Oe?Object(a.jsx)("span",{className:"food-log-status",style:{marginLeft:12},children:Oe}):null]})]}),Object(a.jsxs)("div",{className:"food-log-card",children:[Object(a.jsx)("h2",{children:"\u5386\u53f2\u8bb0\u5f55"}),Object(a.jsxs)("div",{className:"food-log-grid",style:{alignItems:"end"},children:[Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u5f00\u59cb\u65e5\u671f"}),Object(a.jsx)("input",{type:"date",value:ke,onChange:function(e){return we(e.target.value)}})]}),Object(a.jsxs)("div",{className:"food-log-field",children:[Object(a.jsx)("label",{children:"\u7ed3\u675f\u65e5\u671f"}),Object(a.jsx)("input",{type:"date",value:Ce,onChange:function(e){return Ee(e.target.value)}})]}),Object(a.jsx)("div",{className:"food-log-field",children:Object(a.jsx)(P.a,{onClick:Be,children:"\u67e5\u770b\u8bb0\u5f55"})})]}),Ie.length?Object(a.jsxs)("table",{className:"food-log-table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"\u65e5\u671f"}),Object(a.jsx)("th",{children:"\u65f6\u95f4"}),Object(a.jsx)("th",{children:"\u98df\u7269"}),Object(a.jsx)("th",{children:"\u9910\u6b21"}),Object(a.jsx)("th",{children:"\u5361\u8def\u91cc"}),Object(a.jsx)("th",{children:"\u86cb\u767d\u8d28"}),Object(a.jsx)("th",{children:"\u8102\u80aa"}),Object(a.jsx)("th",{children:"\u78b3\u6c34"}),Object(a.jsx)("th",{children:"\u4efd\u91cf(g)"})]})}),Object(a.jsx)("tbody",{children:Ie.map((function(e){var t,n,c,r,s,i,o,l;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.date}),Object(a.jsx)("td",{children:e.timestamp?e.timestamp.slice(11,16):""}),Object(a.jsx)("td",{children:e.food_name||e.food_description||""}),Object(a.jsx)("td",{children:e.meal_type||""}),Object(a.jsx)("td",{children:null!==(n=null!==(c=e.cal)&&void 0!==c?c:e.calories)&&void 0!==n?n:""}),Object(a.jsx)("td",{children:null!==(r=e.protein)&&void 0!==r?r:""}),Object(a.jsx)("td",{children:null!==(s=e.fat)&&void 0!==s?s:""}),Object(a.jsx)("td",{children:null!==(i=e.carbohydrates)&&void 0!==i?i:""}),Object(a.jsx)("td",{children:null!==(o=null!==(l=e.weight)&&void 0!==l?l:e.serving_size)&&void 0!==o?o:""})]},"".concat(null!==(t=e.id)&&void 0!==t?t:e.timestamp,"-").concat(e.food_name))}))})]}):Object(a.jsx)("div",{className:"food-log-empty",children:Fe||"\u6682\u65e0\u8bb0\u5f55"})]})]})},je=n(220),be=function(e){var t=e.component,n=Object(je.a)(e,["component"]),c=null!==localStorage.getItem("authToken");return Object(a.jsx)(R.b,Object(T.a)(Object(T.a)({},n),{},{render:function(e){return c?Object(a.jsx)(t,Object(T.a)({},e)):Object(a.jsx)(R.a,{to:"/signin"})}}))},fe=n(419),he=n(416),me=fe.a.Title,pe=ne.a.Option;function xe(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),i=Object(o.a)(s,2),l=i[0],j=i[1],f=Object(c.useState)(""),h=Object(o.a)(f,2),p=h[0],x=h[1],O=Object(c.useState)(!1),g=Object(o.a)(O,2),v=g[0],y=g[1],_=Object(c.useState)(!1),k=Object(o.a)(_,2),w=k[0],S=k[1],N=Object(c.useState)({total:0,typeCounts:{}}),C=Object(o.a)(N,2),E=C[0],A=C[1];Object(c.useEffect)((function(){T()}),[]),Object(c.useEffect)((function(){p&&I()}),[p]);var T=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,b.a.get("".concat(m,"/file?list=email_analysis"));case 4:t=e.sent,n=t.data.data.map((function(e){return{name:e.name,value:e.name}})).sort((function(e,t){return t.name.localeCompare(e.name)})),j(n),n.length>0&&x(n[0].value),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error fetching file list:",e.t0),X.b.error("Failed to load file list");case 14:return e.prev=14,S(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,b.a.get("".concat(m,"/json?name=").concat(p,"&list=email_analysis"));case 4:t=e.sent,r(t.data.data[0].data.result||[]),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching email data:",e.t0),X.b.error("Failed to load email analysis data");case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),P=[{title:"\u6807\u9898",dataIndex:"title",key:"title",render:function(e){return Object(a.jsx)("strong",{children:e.slice(0,50)})}},{title:"\u53d1\u4ef6\u4eba",dataIndex:"sender",key:"sender",render:function(e){var t=e.match(/<([^>]+)>/),n=t?t[1]:e,c="https://mail.google.com/mail/u/0/#search/from%3A".concat(encodeURIComponent(n));return Object(a.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:e})}},{title:"\u6458\u8981",dataIndex:"summary",key:"summary",width:"40%"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type",render:function(e){return e.toUpperCase()}},{title:"\u9000\u8ba2\u5efa\u8bae",dataIndex:"unsubscribed",key:"unsubscribed",width:"30%"}];return Object(c.useEffect)((function(){var e=n.length,t=n.reduce((function(e,t){return e[t.type]=(e[t.type]||0)+1,e}),{});A({total:e,typeCounts:t})}),[n]),Object(a.jsxs)("div",{style:{padding:"20px"},children:[Object(a.jsx)(me,{level:2,children:"\u90ae\u4ef6\u5206\u6790"}),Object(a.jsx)("div",{style:{marginBottom:16},children:Object(a.jsx)(ne.a,{value:p,onChange:function(e){x(e)},loading:w,style:{width:200},children:l.map((function(e){return Object(a.jsx)(pe,{value:e.value,children:e.name},e.value)}))})}),Object(a.jsxs)("div",{style:{marginBottom:16},children:[Object(a.jsx)("strong",{children:"\u603b\u90ae\u4ef6\u6570: "}),E.total,Object(a.jsxs)("span",{style:{marginLeft:16},children:[Object(a.jsx)("strong",{children:"\u7c7b\u578b\u7edf\u8ba1: "}),Object.entries(E.typeCounts).map((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)("span",{style:{marginRight:8},children:[n,": ",c]},n)}))]})]}),Object(a.jsx)(he.a,{columns:P,dataSource:n,loading:v,pagination:{pageSize:30},rowKey:"title"})]})}var Oe=n(27),ge=n(415),ve=n(85),ye=n(417),_e=n(111),ke=n.n(_e);function we(){for(var e=Object(c.useState)((new Date).getFullYear()),t=Object(o.a)(e,2),n=t[0],r=t[1],s=[],i=1900;i<=2100;i++)s.push({value:i,label:i.toString()});return Object(a.jsxs)("div",{style:{padding:"20px"},children:[Object(a.jsx)("div",{style:{marginBottom:"20px"},children:Object(a.jsx)(ne.a,{value:n,onChange:function(e){r(e)},options:s,style:{width:120}})}),Object(a.jsx)(ye.a,{dateCellRender:function(e){var t=e.toDate(),n=t.getFullYear(),c=t.getMonth()+1,r=t.getDate();try{var s=ke.a.calendar(n,c).monthData.find((function(e){return e.year===n&&e.month===c&&e.day===r}));if(s){var i=function(e,t){var n=e.charAt(0),a=e.charAt(1),c=t.charAt(0),r=t.charAt(1);return{"\u7532":"\u5e9a","\u4e59":"\u8f9b","\u4e19":"\u58ec","\u4e01":"\u7678","\u5e9a":"\u7532","\u8f9b":"\u4e59","\u58ec":"\u4e19","\u7678":"\u4e01"}[n]===c||{"\u5b50":"\u5348","\u4e11":"\u672a","\u5bc5":"\u7533","\u536f":"\u9149","\u8fb0":"\u620c","\u5df3":"\u4ea5","\u5348":"\u5b50","\u672a":"\u4e11","\u7533":"\u5bc5","\u9149":"\u536f","\u620c":"\u8fb0","\u4ea5":"\u5df3"}[a]===r}(s.GanZhiYear,s.GanZhiMonth);return Object(a.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[Object(a.jsxs)("div",{children:[s.GanZhiYear,"\u5e74"]}),Object(a.jsxs)("div",{children:[s.GanZhiMonth,"\u6708"]}),Object(a.jsxs)("div",{children:[s.GanZhiDay,"\u65e5"]}),i&&Object(a.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:"\u5e74\u6708\u51b2"})]})}}catch(o){console.error("Error calculating Gan-Zhi:",o,e)}return null},headerRender:function(e){var t=e.value,n=(e.type,e.onChange),c=(e.onTypeChange,function(e){try{var t=new Date,n=t.getMonth()+1,a=t.getDate(),c=ke.a.calendar(e,n).monthData.find((function(t){return t.year===e&&t.month===n&&t.day===a}));return c?"".concat(c.GanZhiYear,"\u5e74 \u3010").concat(c.zodiac,"\u5e74\u3011"):"--"}catch(r){return console.error("Error calculating year Gan-Zhi:",r),"--"}}(t.year())),r=function(e,t,n){try{var a=ke.a.calendar(e,t).monthData.find((function(a){return a.year===e&&a.month===t&&a.day===n}));return a?"".concat(a.GanZhiMonth,"\u6708"):"--"}catch(c){return console.error("Error calculating month Gan-Zhi:",c),"--"}}(t.year(),t.month()+1,t.date()),i=Array.from({length:12},(function(e,t){return{value:t,label:"".concat(t+1,"\u6708")}}));return Object(a.jsxs)("div",{style:{padding:"16px"},children:[Object(a.jsxs)("div",{style:{marginBottom:"8px",display:"flex",gap:"8px"},children:[Object(a.jsx)(ne.a,{value:t.year(),onChange:function(e){var a=t.clone().year(e);n(a)},options:s,style:{width:120}}),Object(a.jsx)(ne.a,{value:t.month(),onChange:function(e){var a=t.clone().month(e);n(a)},options:i,style:{width:120}})]}),Object(a.jsxs)("div",{style:{color:"#666",marginBottom:"8px"},children:[c," ",r]})]})},fullscreen:!0,onChange:function(e){return console.log(e)}})]})}var Se=n(421),Ne=n(422),Ce=n(423),Ee=n(424),Ae=n(425),Te=n(426),Ie=n(221),Pe=n(427),Re=n(112);n(411);function De(e){var t,n,r=Object(c.useState)(0),s=Object(o.a)(r,1)[0],i=Object(c.useState)([]),l=Object(o.a)(i,2),d=l[0],u=l[1],j=Object(c.useState)([]),f=Object(o.a)(j,2),h=f[0],p=f[1],x=Object(c.useState)(null),O=Object(o.a)(x,2),g=O[0],v=O[1];Object(c.useEffect)((function(){b.a.get("".concat(m,"/json?name=").concat(e.name,"&list=").concat(e.list)).then((function(e){u(e.data.data[0].data)}))}),[s]),Object(c.useEffect)((function(){b.a.get("".concat(m,"/json?name=").concat(e.name,"&list=").concat(e.list,"_highlight")).then((function(e){var t;p(null!==(t=e.data.data[0].data.data)&&void 0!==t?t:[])}))}),[s]),console.log(h);var y=Object(c.useRef)(null),_=h.filter((function(e){return"important"===e.type})),k=Object(c.useState)({top:0,left:0}),w=Object(o.a)(k,2),S=w[0],N=w[1],C=Object(c.useState)(!1),E=Object(o.a)(C,2),A=E[0],T=E[1],I=Object(c.useState)("16"),P=Object(o.a)(I,2),R=P[0],D=P[1],F=new Set(_.map((function(e){return e.index}))),U=function(){var e=window.getSelection(),t=e.getRangeAt(0),n=t.commonAncestorContainer.parentElement.parentElement,a=n.getAttribute("data-index"),c=n.getAttribute("class"),r=function(e,t,n){var a=e.toString(),c=("summary"===n?d[t].summary:d[t].chunk).indexOf(a);return{startOffset:c,endOffset:c+a.length}}(t,parseInt(a,10),c),s={index:parseInt(a,10),startOffset:r.startOffset,endOffset:r.endOffset,type:c},i=document.createElement("span");i.className="highlight",t.surroundContents(i),e.removeAllRanges(),p([].concat(Object(Re.a)(h),[s]))},L=function(){var e=window.getSelection();if(e.rangeCount){var t=e.getRangeAt(0).commonAncestorContainer.parentElement,n=null===t||void 0===t?void 0:t.parentElement,a=null===n||void 0===n?void 0:n.getAttribute("data-index");if(null!=a){var c={index:parseInt(a,10),startOffset:0,endOffset:0,type:"important"};F.has(parseInt(a,10))||p([].concat(Object(Re.a)(h),[c]))}}},z=function(){if(h.length){var e=Object(Re.a)(h).reverse().findIndex((function(e){return"important"!==e.type})),t=-1===e?h.length-1:h.length-1-e;p(h.filter((function(e,n){return n!==t})))}},H=function(e){var t=e.target.parentElement,n=e.target.getAttribute("data-index"),a={index:parseInt(n,10),startOffset:0,endOffset:0,type:"important"};t.textContent.startsWith("\u2b50")||(t.textContent="\u2b50"+t.textContent),p([].concat(Object(Re.a)(h),[a]))};Object(c.useEffect)((function(){0!==(null!==h&&void 0!==h?h:[]).length&&b.a.post("".concat(m,"/json?list=").concat(e.list,"_highlight"),{date:e.name.split(".")[0],data:h}).then((function(){}))}),[h]);var B=function(e){var t=window.getSelection();if(t.rangeCount>0){var n=t.getRangeAt(0).getBoundingClientRect(),a=window.scrollX,c=window.scrollY;N({top:n.top-52+c,left:n.left+n.width/2+a})}};Object(c.useEffect)((function(){var e="mouseup";return y.current.addEventListener(e,B),function(){y.current.removeEventListener(e,B)}}),[]),Object(c.useEffect)((function(){try{var e=localStorage.getItem("bs_font_size");e&&D(e)}catch(t){}}),[]),Object(c.useEffect)((function(){try{localStorage.setItem("bs_font_size",R)}catch(e){}}),[R]);var K=function(e,t,n){var c=0,r=[];return h.filter((function(e){return e.index===t&&e.type===n})).forEach((function(s){r.push(Object(a.jsx)("span",{children:e.slice(c,s.startOffset)})),r.push(Object(a.jsx)("span",{className:"highlight","data-start":s.startOffset,"data-end":s.endOffset,onClick:function(e){(e.altKey||e.ctrlKey||e.metaKey)&&function(e,t,n,a){p((function(c){return c.filter((function(c){return!(c.index===e&&c.type===t&&c.startOffset===n&&c.endOffset===a)}))}))}(t,n,s.startOffset,s.endOffset)},title:"\u6309\u4f4f Alt/Option \u518d\u70b9\u51fb\u53ef\u53d6\u6d88\u8be5\u9ad8\u4eae\uff08Ctrl/Command \u4e5f\u53ef\uff09",children:e.slice(s.startOffset,s.endOffset)})),c=s.endOffset})),r.push(Object(a.jsx)("span",{children:e.slice(c)})),r},M=function(t){var n={date:e.name.split(".")[0],list:e.list,highlights:h},a="",c="highlights_".concat(e.list,".").concat(t);if("json"===t)a=JSON.stringify(n,null,2);else if("md"===t){var r=new Set(_.map((function(e){return e.index}))),s=[];s.push("# Highlights for ".concat(e.list)),s.push(""),d.forEach((function(e,t){r.has(t)?s.push("## \u2b50 ".concat(t+1,". Summary")):s.push("## ".concat(t+1,". Summary")),h.filter((function(e){return e.index===t&&"summary"===e.type})).forEach((function(t){return s.push("- ".concat(e.summary.slice(t.startOffset,t.endOffset)))}));var n=h.filter((function(e){return e.index===t&&"original-text"===e.type}));n.length&&(s.push("\n**Original:**"),n.forEach((function(t){return s.push("> ".concat(e.chunk.slice(t.startOffset,t.endOffset)))}))),s.push("")})),a=s.join("\n")}var i=new Blob([a],{type:"text/plain;charset=utf-8"}),o=URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=c,l.click(),URL.revokeObjectURL(o)};Object(c.useEffect)((function(){var e=function(e){if(!e.target||"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&!e.isComposing)if("h"===e.key||"H"===e.key){e.preventDefault();try{U()}catch(t){}}else if("i"===e.key||"I"===e.key){e.preventDefault();try{L()}catch(t){}}else"u"!==e.key&&"U"!==e.key||(e.preventDefault(),z())};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[h]);var G=_.map((function(e){return e.index})).sort((function(e,t){return t-e}));return Object(a.jsxs)("div",{ref:y,className:"book-summary-page",style:{fontSize:"".concat(R,"px")},children:[Object(a.jsxs)("div",{className:"selection-toolbar",style:{top:"".concat(S.top,"px"),left:"".concat(S.left,"px")},children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:U,children:"\u9ad8\u4eae"}),Object(a.jsx)("button",{className:"btn btn-important",onClick:L,children:"\u91cd\u8981"})]}),Object(a.jsxs)("h2",{className:"page-title",children:["\u2728 Latest Highlight: ",null!==(t=null===(n=G[0])||void 0===n?void 0:n.toString())&&void 0!==t?t:"\u2014"]}),Object(a.jsxs)("div",{className:"controls-bar",children:[Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return T((function(e){return!e}))},children:A?"\u663e\u793a\u5168\u90e8":"\u4ec5\u770b\u91cd\u8981"}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:z,children:"\u64a4\u9500"}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return M("json")},children:"\u5bfc\u51faJSON"}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return M("md")},children:"\u5bfc\u51faMarkdown"}),Object(a.jsxs)("div",{className:"font-controls",children:[Object(a.jsx)("span",{className:"font-label","aria-hidden":!0,children:"\u5b57\u53f7"}),Object(a.jsx)("span",{className:"font-preview","aria-hidden":!0,children:"A"}),Object(a.jsxs)("select",{className:"font-select",value:R,onChange:function(e){return D(e.target.value)},"aria-label":"\u9009\u62e9\u5b57\u53f7",children:[Object(a.jsx)("option",{value:"14",children:"14"}),Object(a.jsx)("option",{value:"16",children:"16"}),Object(a.jsx)("option",{value:"18",children:"18"}),Object(a.jsx)("option",{value:"20",children:"20"}),Object(a.jsx)("option",{value:"22",children:"22"}),Object(a.jsx)("option",{value:"24",children:"24"})]}),Object(a.jsx)("span",{className:"font-unit","aria-hidden":!0,children:"px"})]})]}),null===d||void 0===d?void 0:d.filter((function(e,t){return!A||F.has(t)})).map((function(e,t){return Object(a.jsxs)("div",{className:"book-item ".concat(g===t?"show-original":_.some((function(e){return e.index===t}))?"important":""),"data-index":t,children:[_.some((function(e){return e.index===t}))?"\u2b50":"",Object(a.jsxs)("p",{className:"summary","data-index":t,children:[t+1,"."," ",K(e.summary,t,"summary")]}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return function(e){v(g===e?null:e)}(t)},children:"\u9605\u8bfb\u539f\u6587"}),Object(a.jsx)("button",{className:"btn btn-important",onClick:H,"data-index":t,children:"\u91cd\u8981"}),g===t&&Object(a.jsx)("p",{className:"original-text","data-index":t,children:K(e.chunk,t,"original-text")})]},t)})),Object(a.jsx)("style",{jsx:!0,children:'\n        :root {\n          --card-radius: 12px;\n          --border-soft: #e9ecef;\n          --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06),\n            0 1px 2px rgba(0, 0, 0, 0.04);\n          --shadow-md: 0 10px 15px rgba(0, 0, 0, 0.04),\n            0 4px 6px rgba(0, 0, 0, 0.06);\n          --accent: #ffeb3b;\n          --accent-strong: #f5c518;\n        }\n\n        .book-summary-page {\n          max-width: 860px;\n          margin: 0 auto;\n          padding: 24px 16px 48px;\n        }\n\n        .page-title {\n          position: sticky;\n          top: 0;\n          z-index: 5;\n          background: rgba(255, 255, 255, 0.85);\n          backdrop-filter: saturate(160%) blur(6px);\n          padding: 12px 8px;\n          margin: 0 0 12px 0;\n          border-bottom: 1px solid var(--border-soft);\n        }\n        .controls-bar {\n          position: sticky;\n          top: 52px;\n          z-index: 4;\n          background: rgba(255, 255, 255, 0.85);\n          backdrop-filter: saturate(160%) blur(6px);\n          padding: 8px 0 12px;\n          margin-bottom: 8px;\n          border-bottom: 1px dashed var(--border-soft);\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n          align-items: center;\n        }\n        .font-controls {\n          margin-left: auto;\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n        }\n        .font-label {\n          font-size: 12px;\n          color: #7a7a7a;\n        }\n        .font-preview {\n          font-weight: 700;\n          line-height: 1;\n          transform: translateY(-1px);\n        }\n        .font-select {\n          appearance: none;\n          -webkit-appearance: none;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 6px 28px 6px 10px;\n          font-size: 14px;\n          background: #fff\n            url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="%23999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>\')\n            no-repeat right 8px center;\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n        }\n        .font-select:focus {\n          outline: none;\n          border-color: #cbd5e1;\n        }\n        .font-unit {\n          font-size: 12px;\n          color: #9aa0a6;\n        }\n\n        .book-item {\n          background: #fff;\n          border: 1px solid var(--border-soft);\n          border-radius: var(--card-radius);\n          padding: 14px 16px;\n          margin: 14px 0;\n          box-shadow: var(--shadow-sm);\n          transition: transform 0.12s ease, box-shadow 0.2s ease,\n            border-color 0.2s ease;\n        }\n        .book-item:hover {\n          transform: translateY(-1px);\n          box-shadow: var(--shadow-md);\n        }\n        .book-item.important {\n          border-color: var(--accent-strong);\n          box-shadow: inset 0 0 0 2px rgba(245, 197, 24, 0.25);\n        }\n\n        .summary {\n          font-weight: 500;\n          line-height: 1.7;\n          margin: 0 0 10px 0;\n        }\n        .original-text {\n          margin-top: 10px;\n          padding: 12px;\n          background: #fafafa;\n          border-radius: 10px;\n          border: 1px dashed #e5e7eb;\n          line-height: 1.7;\n        }\n\n        .btn {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          font-size: 14px;\n          line-height: 1;\n          padding: 8px 12px;\n          border-radius: 10px;\n          border: 1px solid transparent;\n          cursor: pointer;\n          user-select: none;\n          transition: background-color 0.2s ease, border-color 0.2s ease,\n            transform 0.05s ease;\n          margin-right: 8px;\n        }\n        .btn:active {\n          transform: translateY(1px);\n        }\n        .btn-primary {\n          background: rgba(255, 213, 79, 0.85); /* \u67d4\u548c\u6696\u9ec4\uff0c\u7a0d\u5fae\u900f\u660e */\n          border-color: rgba(251, 192, 45, 0.85);\n          color: #111;\n          backdrop-filter: saturate(180%) blur(8px); /* \u6bdb\u73bb\u7483\u6548\u679c */\n          -webkit-backdrop-filter: saturate(180%) blur(8px);\n          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.12);\n        }\n        .btn-primary:hover {\n          background: rgba(255, 202, 40, 0.9);\n        }\n        .btn-secondary {\n          background: #f1f3f5;\n          border-color: #e5e7eb;\n        }\n        .btn-important {\n          background: #fff7e6;\n          border-color: #ffd666;\n        }\n\n        .selection-toolbar {\n          position: absolute;\n          transform: translate(-50%, -100%);\n          background: #111;\n          color: #fff;\n          padding: 6px 8px;\n          border-radius: 10px;\n          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.18);\n          display: flex;\n          gap: 8px;\n          z-index: 999;\n          border: 1px solid rgba(255, 255, 255, 0.12);\n        }\n        .selection-toolbar::after {\n          content: "";\n          position: absolute;\n          bottom: -6px;\n          left: 50%;\n          transform: translateX(-50%);\n          border: 6px solid transparent;\n          border-top-color: #111;\n        }\n\n        .highlight {\n          background-color: #fff59d;\n          padding: 0 0.1em;\n          border-radius: 4px;\n          cursor: text; /* \u907f\u514d\u8bef\u89e6\u5220\u9664\u7684\u6697\u793a */\n        }\n        .highlight:hover {\n          box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.12);\n        }\n      '})]})}var Fe=ne.a.Option,Ue=fe.a.Title;function Le(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)({}),i=Object(o.a)(s,2),l=i[0],j=i[1],f=Object(c.useState)(!1),h=Object(o.a)(f,2),p=h[0],x=h[1],O=Object(c.useState)(""),g=Object(o.a)(O,2),v=g[0],y=g[1],_=Object(c.useState)(!0),k=Object(o.a)(_,2),w=k[0],S=k[1];Object(c.useEffect)((function(){N()}),[w]);var N=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,b.a.get("".concat(m,"/file?list=book_summary"));case 4:return t=e.sent,n=t.data.data.map((function(e){return{name:e.name,key:e.name}})),e.next=8,b.a.get("".concat(m,"/metadata?list=book_summary"));case 8:a=e.sent,c=a.data||{},s=n.map((function(e){var t=c[e.name]||{};return Object(T.a)(Object(T.a)({},e),{},{status:t.status||"not_begin",lastUpdated:t.lastUpdated||"-"})})),r(s),j(c),console.log(a),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.error("Error fetching data:",e.t0),X.b.error("Failed to load book data");case 20:return e.prev=20,x(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,16,20,23]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(d.a.mark((function e(t,a){var c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Math.floor(Date.now()/1e3),(s=Object(T.a)({},l))[a.name]=Object(T.a)(Object(T.a)({},s[a.name]||{}),{},{status:t,lastUpdated:c}),j(s),r(n.map((function(e){return e.name===a.name?Object(T.a)(Object(T.a)({},e),{},{status:t,lastUpdated:c}):e}))),e.next=8,b.a.post("".concat(m,"/metadata?list=book_summary"),s);case 8:X.b.success("Status updated successfully"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error updating status:",e.t0),X.b.error("Failed to update status"),N();case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),E=[{title:"Book Name",dataIndex:"name",key:"name",render:function(e,t){return Object(a.jsx)("a",{onClick:function(){y(t.name),S(!1)},children:e})},sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return Object(a.jsxs)(ne.a,{value:e,style:{width:120},onChange:function(e){return C(e,t)},children:[Object(a.jsx)(Fe,{value:"not_begin",children:"Not Begin"}),Object(a.jsx)(Fe,{value:"ongoing",children:"Ongoing"}),Object(a.jsx)(Fe,{value:"read",children:"Read"})]})},filters:[{text:"Not Begin",value:"not_begin"},{text:"Ongoing",value:"ongoing"},{text:"Read",value:"read"}],onFilter:function(e,t){return t.status===e}},{title:"Last Updated",dataIndex:"lastUpdated",key:"lastUpdated",render:function(e){return"-"===e?"-":new Date(1e3*e).toLocaleString()},sorter:function(e,t){return"-"===e.lastUpdated?-1:"-"===t.lastUpdated?1:t.lastUpdated-e.lastUpdated}}];return w?Object(a.jsxs)("div",{style:{padding:"20px"},children:[Object(a.jsx)(Ue,{level:2,children:"Book Summary List"}),Object(a.jsx)(he.a,{columns:E,dataSource:n,loading:p,pagination:{pageSize:20},rowKey:"name"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(De,{name:v,list:"book_summary"}),Object(a.jsx)(P.a,{type:"primary",onClick:function(){S(!0)},style:{marginTop:"20px"},children:"Back to List"})]})}var ze=ge.a.Header,He=ge.a.Sider,Be=ge.a.Content;var Ke=ve.a.SubMenu;var Me=function(e){var t,n,r,s,i=Object(c.useState)(!1),l=Object(o.a)(i,2),d=(l[0],l[1]);Object(c.useEffect)((function(){var e=localStorage.getItem("authToken");d(null!==e)}),[]);var u=[{name:"\u6bcf\u5468\u8ba1\u5212",json:"weekly_2026"},{name:"\u6bcf\u5468\u5de5\u4f5c\u603b\u7ed3",json:"weekly_work"},{name:"\u6bcf\u5468\u751f\u6d3b\u65f6\u95f4\u603b\u7ed3",json:"weekly_analysis"},{name:"\u6bcf\u6708\u8ba1\u5212",json:"monthly"},{name:"\u63d0\u9192\u81ea\u5df1",json:"reminder_list"},{name:"\u6545\u4e8b",json:"story"},{name:"\u7b11\u8bdd",json:"fun"},{name:"\u81ea\u5df1\u7684\u60f3\u6cd5",json:"event_and_feeling"}],j=[{name:"\u89c6\u9891\u4e0a\u4f20\u6e05\u5355",json:"video_upload_checklist"},{name:"\u8bfb\u4e66\u8ba1\u5212",json:"book"},{name:"\u505a\u996d",json:"cook"},{name:"\u65c5\u6e38",json:"tour"},{name:"\u6444\u5f71",json:"photos"},{name:"\u60f3\u505a\u7684\u4e8b\u60c5",json:"play"}],b=new URLSearchParams(Object(R.g)().search);return Object(a.jsxs)(ge.a,{children:[Object(a.jsxs)(He,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)},children:[Object(a.jsx)("div",{className:"logo"}),Object(a.jsxs)(ve.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Se.a,{}),children:["Sign In",Object(a.jsx)(Oe.b,{to:"/signin"})]},"signin"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Se.a,{}),children:["\u81ea\u5df1\u63d0\u9ad8\u7684\u70b9",Object(a.jsx)(Oe.b,{to:"/improvement"})]},"1"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Ne.a,{}),children:["\u4eba\u751f\u7cfb\u7edf\u6a21\u578b",Object(a.jsx)(Oe.b,{to:"/life"})]},"life"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Se.a,{}),children:["\u539f\u5219",Object(a.jsx)(Oe.b,{to:"/principe"})]},"10"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Ce.a,{}),children:["\u540c\u7406\u5fc3",Object(a.jsx)(Oe.b,{to:"/empthy"})]},"11"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Ee.a,{}),children:["\u5e94\u6025\u5904\u7406",Object(a.jsx)(Oe.b,{to:"/safety"})]},"12"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Ne.a,{}),children:["\u672c\u5468\u76ee\u6807",Object(a.jsx)(Oe.b,{to:"/weekly"})]},"2"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Ne.a,{}),children:["\u672c\u6708\u76ee\u6807",Object(a.jsx)(Oe.b,{to:"/monthly"})]},"3"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Ne.a,{}),children:["\u5e74\u8ba1\u5212",Object(a.jsx)(Oe.b,{to:"/year_plan"})]},"4"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Ae.a,{}),children:["\u5e72\u652f\u65e5\u5386",Object(a.jsx)(Oe.b,{to:"/chinese-calendar"})]},"calendar"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Te.a,{}),children:["\u8bfb\u4e66\u7b14\u8bb0",Object(a.jsx)(Oe.b,{to:"/read"})]},"5"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Te.a,{}),children:["\u4e66\u7c4d\u603b\u7ed3",Object(a.jsx)(Oe.b,{to:"/book_summary"})]},"6"),Object(a.jsxs)(ve.a.Item,{icon:Object(a.jsx)(Te.a,{}),children:["email\u603b\u7ed3",Object(a.jsx)(Oe.b,{to:"/email_analysis"})]},"7"),Object(a.jsx)(Ke,{icon:Object(a.jsx)(Ie.a,{}),title:"\u4fee\u6539",children:u.map((function(e){var t="".concat(e.json,"_edit");return Object(a.jsxs)(ve.a.Item,{children:[e.name,Object(a.jsx)(Oe.b,{to:"/".concat(t)})]},t)}))},"sub1"),Object(a.jsx)(Ke,{icon:Object(a.jsx)(Pe.a,{}),title:"\u67e5\u770b",children:u.map((function(e){var t="".concat(e.json,"_view");return Object(a.jsxs)(ve.a.Item,{children:[e.name,Object(a.jsx)(Oe.b,{to:"/".concat(t)})]},t)}))},"sub2"),Object(a.jsx)(Ke,{icon:Object(a.jsx)(Ie.a,{}),title:"\u6dfb\u52a0\u6e05\u5355",children:j.map((function(e){var t="".concat(e.json,"_edit");return Object(a.jsxs)(ve.a.Item,{children:[e.name,Object(a.jsx)(Oe.b,{to:"/".concat(t)})]},t)}))},"sub3"),Object(a.jsx)(Ke,{icon:Object(a.jsx)(Pe.a,{}),title:"\u67e5\u770b\u6e05\u5355",children:j.map((function(e){var t="".concat(e.json,"_view");return Object(a.jsxs)(ve.a.Item,{children:[e.name,Object(a.jsx)(Oe.b,{to:"/".concat(t)})]},t)}))},"sub4")]})]}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(ze,{className:"site-layout-sub-header-background",style:{padding:0}}),Object(a.jsx)(Be,{style:{margin:"24px 16px 0"},children:Object(a.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:1024},children:[Object(a.jsx)(be,{exact:!0,path:"/",component:function(){return Object(a.jsx)(Y,{name:"\u6211\u80fd\u505a\u7684\u597d\u7684\u5730\u65b9.md",list:"must"})}}),Object(a.jsx)(be,{path:"/improvement",component:function(){return Object(a.jsx)(Y,{name:"\u6211\u80fd\u505a\u7684\u597d\u7684\u5730\u65b9.md",list:"must"})}}),Object(a.jsx)(be,{path:"/safety",component:function(){return Object(a.jsx)(Y,{name:"\u5e94\u6025\u5904\u7406\u65b9\u6cd5.md",list:"must"})}}),Object(a.jsx)(be,{path:"/year_plan",component:function(){return Object(a.jsx)(Y,{name:"2026\u5e74\u8ba1\u5212.md",list:"must"})}}),Object(a.jsx)(be,{path:"/weekly",component:w}),Object(a.jsx)(be,{path:"/monthly",component:E}),Object(a.jsx)(be,{path:"/read",component:q}),Object(a.jsx)(be,{path:"/book_summary",component:Le}),Object(a.jsx)(be,{path:"/email_analysis",component:xe}),u.map((function(e){var t,n="/".concat(e.json,"_edit");return Object(a.jsx)(be,{path:n,children:Object(a.jsx)(M,{list:e.json,date:null!==(t=b.get("date"))&&void 0!==t?t:""})})})),u.map((function(e){var t="/".concat(e.json,"_view");return Object(a.jsx)(be,{path:t,children:Object(a.jsx)(V,{list:e.json})})})),j.map((function(e){var t,n="/".concat(e.json,"_edit");return Object(a.jsx)(be,{path:n,children:Object(a.jsx)(M,{list:e.json,date:null!==(t=b.get("date"))&&void 0!==t?t:""})})})),j.map((function(e){var t="/".concat(e.json,"_view");return Object(a.jsx)(be,{path:t,children:Object(a.jsx)(V,{list:e.json})})})),Object(a.jsx)(R.b,{path:"/markdown_edit",children:Object(a.jsx)(W,{list:null!==(t=b.get("list"))&&void 0!==t?t:"",name:null!==(n=b.get("name"))&&void 0!==n?n:""})}),Object(a.jsx)(R.b,{path:"/markdown_show",children:Object(a.jsx)(Y,{list:null!==(r=b.get("list"))&&void 0!==r?r:"",name:null!==(s=b.get("name"))&&void 0!==s?s:""})}),Object(a.jsx)(be,{path:"/life",component:te}),Object(a.jsx)(be,{path:"/food",component:ue}),Object(a.jsx)(be,{path:"/principe",children:Object(a.jsx)(Y,{name:"\u539f\u5219.md",list:"must"})}),Object(a.jsx)(be,{path:"/empthy",children:Object(a.jsx)(Y,{name:"\u540c\u7406\u5fc3.md",list:"must"})}),Object(a.jsx)(R.b,{path:"/signin",component:Q}),Object(a.jsx)(R.b,{path:"/chinese-calendar",component:we})]})})]})]})},Ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,428)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Oe.a,{children:Object(a.jsx)(Me,{})})}),document.getElementById("root")),Ge()}},[[412,1,2]]]);
//# sourceMappingURL=main.539400e9.chunk.js.map