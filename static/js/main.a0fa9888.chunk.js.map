{"version":3,"sources":["logo.svg","components/const.js","components/JsonRenderPage.js","components/LatestWeekly.js","components/LatestMonthly.js","components/JsonEditPage.js","components/EditPage.js","components/MarkdownEditPage.js","components/MarkdownPage.js","components/ReadList.js","components/GoogleMap.js","components/ShowPage.js","components/SignInPage.js","components/ProtectedRoute.js","components/EmailAnalysisList.js","components/ChineseCalendar.js","components/BookSummaryPage.js","components/ReadSummaryList.js","App.js","reportWebVitals.js","index.js"],"names":["dest_url","JsonRenderPage","props","useState","c","jsonStructure","setJsonStructure","jsonData","setJsonData","markdownData","setMarkdownData","useEffect","Axios","get","list","then","data","structure","content","latest","name","rs","map","element","onlynext","id","Array","isArray","join","title","includes","unshift","source","LatestWeekly","LatestMonthly","TextArea","Input","JsonEditPage","history","useHistory","props_date","undefined","date","split","setDate","url","value","onChange","e","text","target","className","rows","key","console","log","type","onClick","post","push","EditPage","loading","setLoading","MarkdownEditPage","line","setLine","length","MarkdownPage","ReadList","markdownList","setMarkdownList","clickName","setClickName","showAll","setShowAll","item","sort","a","b","localeCompare","index","MapContainer","useGoogleMaps","process","zoom","center","lat","lng","ref","google","maps","Marker","label","position","latlng","style","width","height","ShowPage","filter","SignInPage","onFinish","values","axios","response","success","message","localStorage","setItem","token","error","maxWidth","margin","marginTop","Item","rules","required","placeholder","Password","htmlType","ProtectedRoute","Component","component","rest","isAuthenticated","getItem","render","to","Title","Typography","Option","Select","EmailAnalysisList","emailData","setEmailData","fileList","setFileList","selectedFile","setSelectedFile","fileLoading","setFileLoading","total","typeCounts","summaryStats","setSummaryStats","fetchFileList","fetchEmailData","files","file","result","columns","dataIndex","slice","sender","emailMatch","match","email","searchUrl","encodeURIComponent","href","rel","toUpperCase","reduce","acc","padding","level","marginBottom","marginLeft","Object","entries","count","marginRight","dataSource","pagination","pageSize","rowKey","ChineseCalendar","Date","getFullYear","year","setYear","yearOptions","i","toString","options","dateCellRender","dateObj","toDate","month","getMonth","day","getDate","dayData","LunarCalendar","calendar","monthData","find","d","hasConflict","yearGZ","monthGZ","yearGan","charAt","yearZhi","monthGan","monthZhi","checkConflict","GanZhiYear","GanZhiMonth","fontSize","color","GanZhiDay","fontWeight","headerRender","yearGanZhi","onTypeChange","currentDate","zodiac","getYearGanZhi","monthGanZhi","getMonthGanZhi","monthOptions","from","_","display","gap","newYear","clone","newMonth","fullscreen","BookSummaryPage","highlightJsonData","setHighlightJsonData","selectedSummaryIndex","setSelectedSummaryIndex","divRef","useRef","importantHighlights","highlight","top","left","toolbarPosition","setToolbarPosition","showOnlyImportant","setShowOnlyImportant","setFontSize","importantIndexSet","Set","h","handleHighlight","selection","window","getSelection","range","getRangeAt","parentparentElement","commonAncestorContainer","parentElement","currentIndex","getAttribute","currentType","startOffset","summary","chunk","indexOf","endOffset","computeTrueOffsets","parseInt","newHighlight","span","document","createElement","surroundContents","removeAllRanges","handleImportantCurrentSelection","rangeCount","has","undoLastHighlight","lastIndex","reverse","findIndex","idx","handleImportant","textContent","startsWith","showToolbar","rect","getBoundingClientRect","scrollX","scrollY","event","current","addEventListener","removeEventListener","saved","renderHighlightedText","summaryIndex","contentType","lastOffset","elements","forEach","altKey","ctrlKey","metaKey","prev","removeHighlight","exportHighlights","format","highlights","filename","JSON","stringify","important","lines","book","ho","blob","Blob","URL","createObjectURL","download","click","revokeObjectURL","onKey","tagName","isComposing","preventDefault","sorted_highlight","v","some","toggleOriginalText","jsx","ReadSummaryList","bookList","setBookList","metadata","setMetadata","fetchData","fileResponse","books","metadataResponse","metadataData","booksWithMetadata","bookMetadata","status","lastUpdated","handleStatusChange","record","currentTimestamp","Math","floor","now","updatedMetadata","sorter","filters","onFilter","timestamp","toLocaleString","Header","Layout","Sider","Content","SubMenu","Menu","App","setIsAuthenticated","authToken","sub","json","todo_list","query","URLSearchParams","useLocation","search","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","theme","mode","defaultSelectedKeys","icon","UserOutlined","HeartOutlined","SafetyCertificateOutlined","AimOutlined","CalendarOutlined","BookOutlined","EditOutlined","FolderViewOutlined","minHeight","exact","path","children","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a0fa9888.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","export const dest_url = \"api.tczhong.com/backend\";\nexport const auth_url = \"https://api.tczhong.com/auth\";\n","import Axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport { dest_url } from \"./const\";\nexport default function JsonRenderPage(props) {\n  const [c] = useState(0);\n  const [jsonStructure, setJsonStructure] = useState([]);\n  const [jsonData, setJsonData] = useState({});\n  const [markdownData, setMarkdownData] = useState(\"\");\n  useEffect(() => {\n    Axios.get(`https://${dest_url}/json?name=${props.list}.json`).then(\n      (data) => {\n        setJsonStructure(data.data.data[0].structure.content);\n      }\n    );\n  }, [c]);\n  useEffect(() => {\n    if (props.latest !== \"true\") {\n      Axios.get(\n        `https://${dest_url}/json?name=${props.name}&list=${props.list}`\n      ).then((data) => {\n        setJsonData(data.data.data[0].data);\n      });\n    } else {\n      // here name is the list name\n      Axios.get(`https://${dest_url}/json?date=latest&list=${props.list}`).then(\n        (data) => {\n          setJsonData(data.data.data[0].data);\n        }\n      );\n    }\n  }, [jsonStructure]);\n  useEffect(() => {\n    var rs = jsonStructure.map((element) => {\n      if (props.onlynext) {\n        if (element.id.includes(\"next\")) {\n          return \"## \" + element.title + \"\\n\\n\" + jsonData[element.id] ?? \"\";\n        }\n      } else {\n        var rs = jsonData[element.id] ?? \"\";\n        if (Array.isArray(jsonData[element.id])) {\n          rs = jsonData[element.id].join(\"\\n\");\n        }\n        return \"## \" + element.title + \"\\n\\n\" + rs;\n      }\n      return \"\";\n    });\n    rs.unshift(`# ${jsonData[\"date\"]}`);\n    setMarkdownData(rs.join(\"\\n\"));\n  }, [jsonData]);\n  return <ReactMarkdown source={markdownData} />;\n}\n","import JsonRenderPage from './JsonRenderPage'\nexport default function LatestWeekly() {\n    return <JsonRenderPage latest=\"true\" list=\"weekly\" onlynext={true}/>;\n}","import JsonRenderPage from './JsonRenderPage'\nexport default function LatestMonthly() {\n    return <JsonRenderPage latest=\"true\" list=\"monthly\" onlynext={true}/>;\n}","import Axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { Input } from \"antd\";\nimport { Button } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\nimport JsonRenderPage from \"./JsonRenderPage\";\nimport { dest_url } from \"./const\";\nconst { TextArea } = Input;\nexport default function JsonEditPage(props) {\n  const [jsonStructure, setJsonStructure] = useState([]);\n  const [c] = useState(0);\n  const [jsonData, setJsonData] = useState({});\n\n  let history = useHistory();\n  let props_date = \"\";\n  if (props.date !== undefined && props.date !== null && props.date !== \"\") {\n    props_date = props.date.split(\".\")[0];\n  }\n  const [date, setDate] = useState(props_date);\n  if (!(\"date\" in jsonData)) {\n    setJsonData({ ...jsonData, date: date });\n  }\n  // get json structure\n  useEffect(() => {\n    let url = `https://${dest_url}/json?name=${props.list}.json`;\n\n    Axios.get(url).then((data) => {\n      setJsonStructure(data.data.data[0].structure.content);\n    });\n  }, [c]);\n  //load data if exist\n  useEffect(() => {\n    if (props.date !== undefined && props.date !== null && props.date !== \"\") {\n      let url = `https://${dest_url}/json?list=${props.list}&name=${props_date}.json`;\n\n      Axios.get(url).then((data) => {\n        setJsonData(data.data.data[0].data);\n      });\n    }\n  }, [c]);\n\n  const setTextInput = (text, key) => {\n    console.log(jsonData);\n    setJsonData({\n      ...jsonData,\n      [key]: text,\n    });\n  };\n  const setInputDate = (text) => {\n    setDate(text);\n    setJsonData({\n      ...jsonData,\n      date: text,\n    });\n  };\n  const postData = () => {\n    Axios.post(`https://${dest_url}/json?list=${props.list}`, jsonData).then(\n      () => {\n        history.push(`/${props.list}_view`);\n      }\n    );\n  };\n  return (\n    <>\n      {props.list === \"weekly\" || props.list === \"monthly\" ? (\n        <JsonRenderPage latest=\"true\" list={props.list} onlynext={true} />\n      ) : (\n        <></>\n      )}\n\n      <h2>Date</h2>\n      <Input value={date} onChange={(e) => setInputDate(e.target.value)} />\n      {jsonStructure.map((data) => {\n        return (\n          <div className=\"row\">\n            <h2>{data.title}</h2>\n\n            <TextArea\n              rows={6}\n              onChange={(e) => setTextInput(e.target.value, data.id)}\n              value={jsonData[data.id] ?? \"\"}\n            />\n            <br />\n          </div>\n        );\n      })}\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          postData();\n        }}\n      >\n        submit\n      </Button>\n    </>\n  );\n}\n","import JsonEditPage from \"./JsonEditPage\";\nimport Axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { dest_url } from \"./const\";\nexport default function EditPage(props) {\n  const [date, setDate] = useState(props.date);\n  const [loading, setLoading] = useState(true);\n\n  const [c] = useState(0);\n  useEffect(() => {\n    if (date !== \"\") {\n      setLoading(false);\n      return;\n    }\n    Axios.get(`https://${dest_url}/date?list=${props.list}`).then((data) => {\n      setDate(data.data.date);\n      setLoading(false);\n    });\n  }, [c]);\n  return loading ? <></> : <JsonEditPage list={props.list} date={date} />;\n}\n","import Axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { Input } from \"antd\";\nimport { Button } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\nimport { dest_url } from \"./const\";\nconst { TextArea } = Input;\nexport default function MarkdownEditPage(props) {\n  const [c] = useState(0);\n  const [jsonData, setJsonData] = useState({});\n  const [line, setLine] = useState(10);\n  let history = useHistory();\n\n  //load data if exist\n  useEffect(() => {\n    if (props.name !== undefined && props.name !== null && props.name !== \"\") {\n      let url = `https://${dest_url}/file?list=${props.list}&name=${props.name}`;\n\n      Axios.get(url).then((data) => {\n        setJsonData(data.data.data[0]);\n\n        setLine(data.data.data[0].content.split(\"\\n\").length + 10);\n      });\n    }\n  }, [c]);\n  const setTextInput = (text) => {\n    console.log(jsonData);\n    setJsonData({\n      ...jsonData,\n      content: text,\n    });\n  };\n\n  const postData = () => {\n    Axios.post(\n      `https://${dest_url}/file?list=${props.list}&name=${props.name}`,\n      jsonData\n    ).then(() => {\n      history.push(`/markdown_show?list=${props.list}&name=${props.name}`);\n    });\n  };\n  return (\n    <>\n      {\n        <TextArea\n          rows={line}\n          onChange={(e) => setTextInput(e.target.value)}\n          value={jsonData.content ?? \"\"}\n        />\n      }\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          postData();\n        }}\n      >\n        submit\n      </Button>\n    </>\n  );\n}\n","import Axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Button } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\nimport { dest_url } from \"./const\";\nexport default function MarkdownPage(props) {\n  const [c] = useState(0);\n  const [markdownData, setMarkdownData] = useState(\"\");\n  let history = useHistory();\n  useEffect(() => {\n    Axios.get(\n      `https://${dest_url}/file?name=${props.name}&list=${props.list}`\n    ).then((data) => {\n      setMarkdownData(data.data.data[0].content);\n    });\n  }, [c]);\n  return (\n    <>\n      <ReactMarkdown source={markdownData} />\n\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          history.push(`/markdown_edit?list=${props.list}&name=${props.name}`);\n        }}\n      >\n        edit\n      </Button>\n    </>\n  );\n}\n","import MarkdownPage from \"./MarkdownPage\";\nimport Axios from \"axios\";\nimport { Button } from \"antd\";\nimport React, { useState, useEffect } from \"react\";\nimport { dest_url } from \"./const\";\nexport default function ReadList() {\n  const [markdownList, setMarkdownList] = useState([]);\n\n  const [clickName, setClickName] = useState(\"\");\n  const [showAll, setShowAll] = useState(true);\n  const c = 0;\n  useEffect(() => {\n    Axios.get(`https://${dest_url}/file?list=read`).then((data) => {\n      setMarkdownList(\n        data.data.data.map((item) => {\n          return {\n            name: item.name,\n          };\n        })\n      );\n    });\n    console.log(markdownList);\n  }, [c, showAll]);\n  return showAll ? (\n    <>\n      {markdownList\n        .sort((a, b) => {\n          return a.name.localeCompare(b.name);\n        })\n        .map((item, index) => {\n          return (\n            <>\n              <a\n                onClick={() => {\n                  setClickName(item.name);\n                  setShowAll(false);\n                }}\n                key={item.name}\n              >\n                {index}. {item.name}\n              </a>\n              <br />\n            </>\n          );\n        })}\n    </>\n  ) : (\n    <>\n      <MarkdownPage name={clickName} list=\"read\" />\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          setShowAll(true);\n        }}\n      >\n        back\n      </Button>\n    </>\n  );\n}\n","import React from \"react\";\nimport { useGoogleMaps } from \"react-hook-google-maps\";\n\nconst mapStyles = {\n  height: \"100%\",\n};\n\nexport default function MapContainer(props) {\n  const { ref, map, google } = useGoogleMaps(process.env.REACT_APP_GOOGLE_API, {\n    zoom: 10,\n    center: {\n      lat: 37.3984,\n      lng: -122.01233,\n    },\n  });\n  console.log(props.list);\n  if(map && props.list){\n    props.list.map((item) => {\n        new google.maps.Marker({\n          label: item.name.split('.')[0],\n          position:item.latlng,\n          map,\n        });\n      });\n  }\n  \n  return <div ref={ref} style={{ width: \"100%\", height: 500 }} />;\n}\n","import JsonRenderPage from \"./JsonRenderPage\";\nimport Axios from \"axios\";\nimport { Button } from \"antd\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport MapContainer from \"./GoogleMap\";\nimport { dest_url } from \"./const\";\nexport default function ShowPage(props) {\n  const [markdownList, setMarkdownList] = useState([]);\n\n  const [clickName, setClickName] = useState(\"\");\n  const [showAll, setShowAll] = useState(true);\n  let history = useHistory();\n  const c = 0;\n  useEffect(() => {\n    Axios.get(`https://${dest_url}/file?list=${props.list}`).then((data) => {\n      if (props.list.includes(\"tour\") || props.list.includes(\"resturant\")) {\n        setMarkdownList(\n          data.data.data\n            .filter((item) => {\n              return !item.name.includes(\"9999\");\n            })\n            .map((item) => {\n              return {\n                name: item.name,\n                latlng: item.latlng,\n              };\n            })\n        );\n      } else {\n        setMarkdownList(\n          data.data.data\n            .filter((item) => {\n              return !item.name.includes(\"9999\");\n            })\n            .map((item) => {\n              return {\n                name: item.name,\n              };\n            })\n        );\n      }\n    });\n  }, [c, showAll]);\n  return showAll ? (\n    <>\n      {markdownList\n        .sort((a, b) => {\n          return b.name.localeCompare(a.name);\n        })\n        .map((item, index) => {\n          return (\n            <>\n              <a\n                onClick={() => {\n                  setClickName(item.name);\n                  setShowAll(false);\n                }}\n                key={item.name}\n              >\n                {index}. {item.name}\n              </a>\n              <br />\n            </>\n          );\n        })}\n      {props.list.includes(\"tour\") || props.list.includes(\"resturant\") ? (\n        <MapContainer list={markdownList} />\n      ) : (\n        <></>\n      )}\n    </>\n  ) : (\n    <>\n      <JsonRenderPage name={clickName} list={props.list} onlynext={false} />\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          setShowAll(true);\n        }}\n      >\n        back\n      </Button>\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          history.push(`/${props.list}_edit?date=${clickName}`);\n        }}\n      >\n        edit\n      </Button>\n      <br />\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { auth_url } from './const';\n\nconst SignInPage = () => {\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const onFinish = async (values) => {\n    setLoading(true);\n    try {\n      const response = await axios.post(`${auth_url}/signin`, values);\n      if (response.data.success) {\n        message.success('Sign in successful');\n        localStorage.setItem('authToken', response.data.token);\n        history.push('/');\n      } else {\n        message.error('Sign in failed');\n      }\n    } catch (error) {\n      message.error('An error occurred. Please try again.');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <Form\n      name=\"signin\"\n      onFinish={onFinish}\n      style={{ maxWidth: 300, margin: '0 auto', marginTop: 100 }}\n    >\n      <Form.Item\n        name=\"username\"\n        rules={[{ required: true, message: 'Please input your username!' }]}\n      >\n        <Input placeholder=\"Username\" />\n      </Form.Item>\n\n      <Form.Item\n        name=\"password\"\n        rules={[{ required: true, message: 'Please input your password!' }]}\n      >\n        <Input.Password placeholder=\"Password\" />\n      </Form.Item>\n\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" loading={loading} style={{ width: '100%' }}>\n          Sign In\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default SignInPage;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n  const isAuthenticated = localStorage.getItem('authToken') !== null;\n\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/signin\" />\n        )\n      }\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import Axios from \"axios\";\nimport { Table, message, Typography, Select } from \"antd\";\nimport React, { useState, useEffect } from \"react\";\nimport { dest_url } from \"./const\";\n\nconst { Title } = Typography;\nconst { Option } = Select;\n\nexport default function EmailAnalysisList() {\n  const [emailData, setEmailData] = useState([]);\n  const [fileList, setFileList] = useState([]);\n  const [selectedFile, setSelectedFile] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [fileLoading, setFileLoading] = useState(false);\n  const [summaryStats, setSummaryStats] = useState({\n    total: 0,\n    typeCounts: {},\n  });\n\n  useEffect(() => {\n    fetchFileList();\n  }, []);\n\n  useEffect(() => {\n    if (selectedFile) {\n      fetchEmailData();\n    }\n  }, [selectedFile]);\n\n  const fetchFileList = async () => {\n    setFileLoading(true);\n    try {\n      const response = await Axios.get(\n        `https://${dest_url}/file?list=email_analysis`\n      );\n      const files = response.data.data\n        .map((file) => ({\n          name: file.name,\n          value: file.name,\n        }))\n        .sort((a, b) => b.name.localeCompare(a.name));\n      setFileList(files);\n\n      // 默认选择最新文件\n      if (files.length > 0) {\n        setSelectedFile(files[0].value);\n      }\n    } catch (error) {\n      console.error(\"Error fetching file list:\", error);\n      message.error(\"Failed to load file list\");\n    } finally {\n      setFileLoading(false);\n    }\n  };\n\n  const fetchEmailData = async () => {\n    setLoading(true);\n    try {\n      const response = await Axios.get(\n        `https://${dest_url}/json?name=${selectedFile}&list=email_analysis`\n      );\n\n      setEmailData(response.data.data[0].data.result || []);\n    } catch (error) {\n      console.error(\"Error fetching email data:\", error);\n      message.error(\"Failed to load email analysis data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFileChange = (value) => {\n    setSelectedFile(value);\n  };\n\n  const columns = [\n    {\n      title: \"标题\",\n      dataIndex: \"title\",\n      key: \"title\",\n      render: (text) => <strong>{text.slice(0, 50)}</strong>,\n    },\n    {\n      title: \"发件人\",\n      dataIndex: \"sender\",\n      key: \"sender\",\n      render: (sender) => {\n        const emailMatch = sender.match(/<([^>]+)>/);\n        const email = emailMatch ? emailMatch[1] : sender;\n        const searchUrl = `https://mail.google.com/mail/u/0/#search/from%3A${encodeURIComponent(\n          email\n        )}`;\n        return (\n          <a href={searchUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n            {sender}\n          </a>\n        );\n      },\n    },\n    {\n      title: \"摘要\",\n      dataIndex: \"summary\",\n      key: \"summary\",\n      width: \"40%\",\n    },\n    {\n      title: \"类型\",\n      dataIndex: \"type\",\n      key: \"type\",\n      render: (type) => type.toUpperCase(),\n    },\n    {\n      title: \"退订建议\",\n      dataIndex: \"unsubscribed\",\n      key: \"unsubscribed\",\n      width: \"30%\",\n    },\n  ];\n  useEffect(() => {\n    const total = emailData.length;\n    const typeCounts = emailData.reduce((acc, item) => {\n      acc[item.type] = (acc[item.type] || 0) + 1;\n      return acc;\n    }, {});\n    setSummaryStats({ total, typeCounts });\n  }, [emailData]);\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <Title level={2}>邮件分析</Title>\n\n      <div style={{ marginBottom: 16 }}>\n        <Select\n          value={selectedFile}\n          onChange={handleFileChange}\n          loading={fileLoading}\n          style={{ width: 200 }}\n        >\n          {fileList.map((file) => (\n            <Option key={file.value} value={file.value}>\n              {file.name}\n            </Option>\n          ))}\n        </Select>\n      </div>\n      <div style={{ marginBottom: 16 }}>\n        <strong>总邮件数: </strong>\n        {summaryStats.total}\n        <span style={{ marginLeft: 16 }}>\n          <strong>类型统计: </strong>\n          {Object.entries(summaryStats.typeCounts).map(([type, count]) => (\n            <span key={type} style={{ marginRight: 8 }}>\n              {type}: {count}\n            </span>\n          ))}\n        </span>\n      </div>\n      <Table\n        columns={columns}\n        dataSource={emailData}\n        loading={loading}\n        pagination={{ pageSize: 30 }}\n        rowKey=\"title\"\n      />\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { Calendar, Select } from 'antd';\nimport LunarCalendar from 'lunar-calendar';\n\nconst Gan = [\"甲\", \"乙\", \"丙\", \"丁\", \"戊\", \"己\", \"庚\", \"辛\", \"壬\", \"癸\"];\nconst Zhi = [\"子\", \"丑\", \"寅\", \"卯\", \"辰\", \"巳\", \"午\", \"未\", \"申\", \"酉\", \"戌\", \"亥\"];\nconst Animals = [\"鼠\", \"牛\", \"虎\", \"兔\", \"龙\", \"蛇\", \"马\", \"羊\", \"猴\", \"鸡\", \"狗\", \"猪\"];\n\nconst checkConflict = (yearGZ, monthGZ) => {\n  // 提取年干支和月干支\n  const yearGan = yearGZ.charAt(0);\n  const yearZhi = yearGZ.charAt(1);\n  const monthGan = monthGZ.charAt(0);\n  const monthZhi = monthGZ.charAt(1);\n  \n  // 天干冲突规则\n  const ganConflicts = {\n    '甲': '庚',\n    '乙': '辛',\n    '丙': '壬',\n    '丁': '癸',\n    '庚': '甲',\n    '辛': '乙',\n    '壬': '丙',\n    '癸': '丁'\n  };\n  \n  // 地支冲突规则\n  const zhiConflicts = {\n    '子': '午',\n    '丑': '未',\n    '寅': '申',\n    '卯': '酉',\n    '辰': '戌',\n    '巳': '亥',\n    '午': '子',\n    '未': '丑',\n    '申': '寅',\n    '酉': '卯',\n    '戌': '辰',\n    '亥': '巳'\n  };\n  \n  // 检查天干冲突或地支冲突\n  const hasGanConflict = ganConflicts[yearGan] === monthGan;\n  const hasZhiConflict = zhiConflicts[yearZhi] === monthZhi;\n  \n  return hasGanConflict || hasZhiConflict;\n};\n\nexport default function ChineseCalendar() {\n  const [year, setYear] = useState(new Date().getFullYear());\n\n  const getYearGanZhi = (year) => {\n    try {\n      // Use current date to get the correct Gan-Zhi year\n      const currentDate = new Date();\n      const month = currentDate.getMonth() + 1;\n      const day = currentDate.getDate();\n      \n      const monthData = LunarCalendar.calendar(year, month);\n      const dayData = monthData.monthData.find(d => \n        d.year === year && d.month === month && d.day === day\n      );\n      \n      if (dayData) {\n        return `${dayData.GanZhiYear}年 【${dayData.zodiac}年】`;\n      }\n      return '--';\n    } catch (error) {\n      console.error('Error calculating year Gan-Zhi:', error);\n      return '--';\n    }\n  };\n\n  const getMonthGanZhi = (year, month, day) => {\n    try {\n      const monthData = LunarCalendar.calendar(year, month);\n      const dayData = monthData.monthData.find(d => \n        d.year === year && d.month === month && d.day === day\n      );\n      \n      if (dayData) {\n        return `${dayData.GanZhiMonth}月`;\n      }\n      return '--';\n    } catch (error) {\n      console.error('Error calculating month Gan-Zhi:', error);\n      return '--';\n    }\n  };\n\n  const getDayGanZhi = (date) => {\n    try {\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      \n      const monthData = LunarCalendar.calendar(year, month);\n      const dayData = monthData.monthData.find(d => \n        d.year === year && d.month === month && d.day === day\n      );\n      \n      if (dayData) {\n        return `${dayData.GanZhiDay}日`;\n      }\n      return '--';\n    } catch (error) {\n      console.error('Error calculating Gan-Zhi:', error, date);\n      return '--';\n    }\n  };\n\n  const dateCellRender = (date) => {\n    const dateObj = date.toDate();\n    const year = dateObj.getFullYear();\n    const month = dateObj.getMonth() + 1;\n    const day = dateObj.getDate();\n    \n    try {\n      const monthData = LunarCalendar.calendar(year, month);\n      const dayData = monthData.monthData.find(d => \n        d.year === year && d.month === month && d.day === day\n      );\n      \n      if (dayData) {\n        const hasConflict = checkConflict(dayData.GanZhiYear, dayData.GanZhiMonth);\n        return (\n          <div style={{ fontSize: '12px', color: '#666' }}>\n            <div>{dayData.GanZhiYear}年</div>\n            <div>{dayData.GanZhiMonth}月</div>\n            <div>{dayData.GanZhiDay}日</div>\n            {hasConflict && (\n              <div style={{ color: 'red', fontWeight: 'bold' }}>\n                年月冲\n              </div>\n            )}\n          </div>\n        );\n      }\n    } catch (error) {\n      console.error('Error calculating Gan-Zhi:', error, date);\n    }\n    return null;\n  };\n\n  const headerRender = ({ value, type, onChange, onTypeChange }) => {\n    const yearGanZhi = getYearGanZhi(value.year());\n    const monthGanZhi = getMonthGanZhi(value.year(), value.month() + 1, value.date());\n    \n    const monthOptions = Array.from({ length: 12 }, (_, i) => ({\n      value: i,\n      label: `${i + 1}月`\n    }));\n\n    return (\n      <div style={{ padding: '16px' }}>\n        <div style={{ marginBottom: '8px', display: 'flex', gap: '8px' }}>\n          <Select\n            value={value.year()}\n            onChange={(newYear) => {\n              const date = value.clone().year(newYear);\n              onChange(date);\n            }}\n            options={yearOptions}\n            style={{ width: 120 }}\n          />\n          <Select\n            value={value.month()}\n            onChange={(newMonth) => {\n              const date = value.clone().month(newMonth);\n              onChange(date);\n            }}\n            options={monthOptions}\n            style={{ width: 120 }}\n          />\n        </div>\n        <div style={{ color: '#666', marginBottom: '8px' }}>\n          {yearGanZhi} {monthGanZhi}\n        </div>\n      </div>\n    );\n  };\n\n  const onYearChange = (value) => {\n    setYear(value);\n  };\n\n  const yearOptions = [];\n  for (let i = 1900; i <= 2100; i++) {\n    yearOptions.push({ value: i, label: i.toString() });\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <div style={{ marginBottom: '20px' }}>\n        <Select\n          value={year}\n          onChange={onYearChange}\n          options={yearOptions}\n          style={{ width: 120 }}\n        />\n      </div>\n      <Calendar\n        dateCellRender={dateCellRender}\n        headerRender={headerRender}\n        fullscreen={true}\n        onChange={(date) => console.log(date)}\n      />\n    </div>\n  );\n}\n","import Axios from \"axios\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport { dest_url } from \"./const\";\nimport \"./BookSummaryPage.css\";\n\nexport default function BookSummaryPage(props) {\n  const [c] = useState(0);\n\n  const [jsonData, setJsonData] = useState([]);\n  const [highlightJsonData, setHighlightJsonData] = useState([]);\n  const [selectedSummaryIndex, setSelectedSummaryIndex] = useState(null);\n  useEffect(() => {\n    Axios.get(\n      `https://${dest_url}/json?name=${props.name}&list=${props.list}`\n    ).then((data) => {\n      setJsonData(data.data.data[0].data);\n    });\n  }, [c]);\n  useEffect(() => {\n    Axios.get(\n      `https://${dest_url}/json?name=${props.name}&list=${props.list}_highlight`\n    ).then((data) => {\n      setHighlightJsonData(data.data.data[0].data.data ?? []);\n    });\n  }, [c]);\n  console.log(highlightJsonData);\n  const toggleOriginalText = (index) => {\n    if (selectedSummaryIndex === index) {\n      setSelectedSummaryIndex(null); // 如果原文已经展示，就隐藏\n    } else {\n      setSelectedSummaryIndex(index); // 否则就展示\n    }\n  };\n  const divRef = useRef(null);\n  const importantHighlights = highlightJsonData.filter(\n    (highlight) => highlight.type === \"important\"\n  );\n  const [toolbarPosition, setToolbarPosition] = useState({ top: 0, left: 0 });\n  const [showOnlyImportant, setShowOnlyImportant] = useState(false);\n  const [fontSize, setFontSize] = useState(\"16\");\n  const importantIndexSet = new Set(importantHighlights.map((h) => h.index));\n  const postData = () => {\n    Axios.post(`https://${dest_url}/json?list=${props.list}_highlight`, {\n      date: props.name.split(\".\")[0], // remove json\n      data: highlightJsonData,\n    }).then(() => {});\n  };\n  const computeTrueOffsets = (range, currentIndex, currentType) => {\n    // get selected text\n    let text = range.toString();\n    let current_text =\n      currentType === \"summary\"\n        ? jsonData[currentIndex].summary\n        : jsonData[currentIndex].chunk;\n    let startOffset = current_text.indexOf(text);\n    let endOffset = startOffset + text.length;\n    return { startOffset, endOffset };\n  };\n  const handleHighlight = () => {\n    const selection = window.getSelection();\n    const range = selection.getRangeAt(0);\n\n    const parentElement = range.commonAncestorContainer.parentElement;\n    const parentparentElement = parentElement.parentElement;\n    const currentIndex = parentparentElement.getAttribute(\"data-index\");\n    const currentType = parentparentElement.getAttribute(\"class\");\n    const rs = computeTrueOffsets(\n      range,\n      parseInt(currentIndex, 10),\n      currentType\n    );\n    const newHighlight = {\n      index: parseInt(currentIndex, 10),\n      startOffset: rs.startOffset,\n      endOffset: rs.endOffset,\n      type: currentType,\n    };\n    const span = document.createElement(\"span\");\n    span.className = \"highlight\";\n    range.surroundContents(span);\n    selection.removeAllRanges();\n    setHighlightJsonData([...highlightJsonData, newHighlight]);\n  };\n  const handleImportantCurrentSelection = () => {\n    const selection = window.getSelection();\n    if (!selection.rangeCount) return;\n    const range = selection.getRangeAt(0);\n    const parentElement = range.commonAncestorContainer.parentElement;\n    const parentparentElement = parentElement?.parentElement;\n    const currentIndex = parentparentElement?.getAttribute(\"data-index\");\n    if (currentIndex == null) return;\n    const newHighlight = {\n      index: parseInt(currentIndex, 10),\n      startOffset: 0,\n      endOffset: 0,\n      type: \"important\",\n    };\n    if (!importantIndexSet.has(parseInt(currentIndex, 10))) {\n      setHighlightJsonData([...highlightJsonData, newHighlight]);\n    }\n  };\n\n  const removeHighlight = (\n    summaryIndex,\n    contentType,\n    startOffset,\n    endOffset\n  ) => {\n    setHighlightJsonData((prev) =>\n      prev.filter(\n        (h) =>\n          !(\n            h.index === summaryIndex &&\n            h.type === contentType &&\n            h.startOffset === startOffset &&\n            h.endOffset === endOffset\n          )\n      )\n    );\n  };\n\n  const undoLastHighlight = () => {\n    if (!highlightJsonData.length) return;\n    // Prefer undo of non-important highlight first\n    const lastIndex = [...highlightJsonData]\n      .reverse()\n      .findIndex((h) => h.type !== \"important\");\n    const idx =\n      lastIndex === -1\n        ? highlightJsonData.length - 1\n        : highlightJsonData.length - 1 - lastIndex;\n    setHighlightJsonData(highlightJsonData.filter((_, i) => i !== idx));\n  };\n\n  const handleImportant = (e) => {\n    const parentElement = e.target.parentElement;\n    const currentIndex = e.target.getAttribute(\"data-index\");\n    const newHighlight = {\n      index: parseInt(currentIndex, 10),\n      startOffset: 0,\n      endOffset: 0,\n      type: \"important\",\n    };\n    if (!parentElement.textContent.startsWith(\"⭐\")) {\n      parentElement.textContent = \"⭐\" + parentElement.textContent;\n    }\n    setHighlightJsonData([...highlightJsonData, newHighlight]);\n  };\n  useEffect(() => {\n    if ((highlightJsonData ?? []).length === 0) {\n      return;\n    }\n    postData();\n  }, [highlightJsonData]);\n\n  const showToolbar = (e) => {\n    const selection = window.getSelection();\n    if (selection.rangeCount > 0) {\n      const range = selection.getRangeAt(0);\n      const rect = range.getBoundingClientRect();\n      const scrollX = window.scrollX;\n      const scrollY = window.scrollY;\n\n      setToolbarPosition({\n        top: rect.top - 52 + scrollY,\n        left: rect.left + rect.width / 2 + scrollX,\n      });\n    }\n  };\n\n  useEffect(() => {\n    const event = \"mouseup\";\n\n    divRef.current.addEventListener(event, showToolbar);\n\n    return () => {\n      divRef.current.removeEventListener(event, showToolbar);\n    };\n  }, []);\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem(\"bs_font_size\");\n      if (saved) setFontSize(saved);\n    } catch (_) {}\n  }, []);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(\"bs_font_size\", fontSize);\n    } catch (_) {}\n  }, [fontSize]);\n  const renderHighlightedText = (text, summaryIndex, contentType) => {\n    let lastOffset = 0;\n    const elements = [];\n\n    // 找到这个摘要或原文的所有高亮数据\n    const highlights = highlightJsonData.filter(\n      (highlight) =>\n        highlight.index === summaryIndex && highlight.type === contentType\n    );\n\n    highlights.forEach((highlight) => {\n      // 添加没有高亮的文本\n      elements.push(\n        <span>{text.slice(lastOffset, highlight.startOffset)}</span>\n      );\n      // 添加高亮的文本\n      elements.push(\n        <span\n          className=\"highlight\"\n          data-start={highlight.startOffset}\n          data-end={highlight.endOffset}\n          onClick={(e) => {\n            // 只有按住 Alt/Option（或 Ctrl/Command）时才允许点击删除，避免误触\n            if (e.altKey || e.ctrlKey || e.metaKey) {\n              removeHighlight(\n                summaryIndex,\n                contentType,\n                highlight.startOffset,\n                highlight.endOffset\n              );\n            }\n          }}\n          title=\"按住 Alt/Option 再点击可取消该高亮（Ctrl/Command 也可）\"\n        >\n          {text.slice(highlight.startOffset, highlight.endOffset)}\n        </span>\n      );\n      lastOffset = highlight.endOffset;\n    });\n\n    // 添加剩下的没有高亮的文本\n    elements.push(<span>{text.slice(lastOffset)}</span>);\n\n    return elements;\n  };\n  const exportHighlights = (format) => {\n    const data = {\n      date: props.name.split(\".\")[0],\n      list: props.list,\n      highlights: highlightJsonData,\n    };\n    let content = \"\";\n    let filename = `highlights_${props.list}.${format}`;\n    if (format === \"json\") {\n      content = JSON.stringify(data, null, 2);\n    } else if (format === \"md\") {\n      // Simple Markdown export with important indexes first\n      const important = new Set(importantHighlights.map((h) => h.index));\n      const lines = [];\n      lines.push(`# Highlights for ${props.list}`);\n      lines.push(\"\");\n      jsonData.forEach((book, i) => {\n        if (important.has(i)) {\n          lines.push(`## ⭐ ${i + 1}. Summary`);\n        } else {\n          lines.push(`## ${i + 1}. Summary`);\n        }\n        const hs = highlightJsonData.filter(\n          (h) => h.index === i && h.type === \"summary\"\n        );\n        hs.forEach((h) =>\n          lines.push(`- ${book.summary.slice(h.startOffset, h.endOffset)}`)\n        );\n        const ho = highlightJsonData.filter(\n          (h) => h.index === i && h.type === \"original-text\"\n        );\n        if (ho.length) {\n          lines.push(\"\\n**Original:**\");\n          ho.forEach((h) =>\n            lines.push(`> ${book.chunk.slice(h.startOffset, h.endOffset)}`)\n          );\n        }\n        lines.push(\"\");\n      });\n      content = lines.join(\"\\n\");\n    }\n    const blob = new Blob([content], { type: \"text/plain;charset=utf-8\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = filename;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  useEffect(() => {\n    const onKey = (e) => {\n      if (\n        e.target &&\n        (e.target.tagName === \"INPUT\" ||\n          e.target.tagName === \"TEXTAREA\" ||\n          e.isComposing)\n      )\n        return;\n      if (e.key === \"h\" || e.key === \"H\") {\n        e.preventDefault();\n        try {\n          handleHighlight();\n        } catch (_) {}\n      } else if (e.key === \"i\" || e.key === \"I\") {\n        e.preventDefault();\n        try {\n          handleImportantCurrentSelection();\n        } catch (_) {}\n      } else if (e.key === \"u\" || e.key === \"U\") {\n        e.preventDefault();\n        undoLastHighlight();\n      }\n    };\n    window.addEventListener(\"keydown\", onKey);\n    return () => window.removeEventListener(\"keydown\", onKey);\n  }, [highlightJsonData]);\n  const sorted_highlight = importantHighlights\n    .map((h) => {\n      return h.index;\n    })\n    .sort((a, b) => b - a);\n  return (\n    <div\n      ref={divRef}\n      className=\"book-summary-page\"\n      style={{ fontSize: `${fontSize}px` }}\n    >\n      <div\n        className=\"selection-toolbar\"\n        style={{\n          top: `${toolbarPosition.top}px`,\n          left: `${toolbarPosition.left}px`,\n        }}\n      >\n        <button className=\"btn btn-primary\" onClick={handleHighlight}>\n          高亮\n        </button>\n        <button\n          className=\"btn btn-important\"\n          onClick={handleImportantCurrentSelection}\n        >\n          重要\n        </button>\n      </div>\n      <h2 className=\"page-title\">\n        ✨ Latest Highlight: {sorted_highlight[0]?.toString() ?? \"—\"}\n      </h2>\n      <div className=\"controls-bar\">\n        <button\n          className=\"btn btn-secondary\"\n          onClick={() => setShowOnlyImportant((v) => !v)}\n        >\n          {showOnlyImportant ? \"显示全部\" : \"仅看重要\"}\n        </button>\n        <button className=\"btn btn-secondary\" onClick={undoLastHighlight}>\n          撤销\n        </button>\n        <button\n          className=\"btn btn-secondary\"\n          onClick={() => exportHighlights(\"json\")}\n        >\n          导出JSON\n        </button>\n        <button\n          className=\"btn btn-secondary\"\n          onClick={() => exportHighlights(\"md\")}\n        >\n          导出Markdown\n        </button>\n        <div className=\"font-controls\">\n          <span className=\"font-label\" aria-hidden>\n            字号\n          </span>\n          <span className=\"font-preview\" aria-hidden>\n            A\n          </span>\n          <select\n            className=\"font-select\"\n            value={fontSize}\n            onChange={(e) => setFontSize(e.target.value)}\n            aria-label=\"选择字号\"\n          >\n            <option value=\"14\">14</option>\n            <option value=\"16\">16</option>\n            <option value=\"18\">18</option>\n            <option value=\"20\">20</option>\n            <option value=\"22\">22</option>\n            <option value=\"24\">24</option>\n          </select>\n          <span className=\"font-unit\" aria-hidden>\n            px\n          </span>\n        </div>\n      </div>\n      {jsonData\n        ?.filter(\n          (_, index) => !showOnlyImportant || importantIndexSet.has(index)\n        )\n        .map((book, index) => (\n          <div\n            className={`book-item ${\n              selectedSummaryIndex === index\n                ? \"show-original\"\n                : importantHighlights.some(\n                    (highlight) => highlight.index === index\n                  )\n                ? \"important\"\n                : \"\"\n            }`}\n            key={index}\n            data-index={index}\n          >\n            {importantHighlights.some((highlight) => highlight.index === index)\n              ? \"⭐\"\n              : \"\"}\n            <p className=\"summary\" data-index={index}>\n              {index + 1}.{\" \"}\n              {renderHighlightedText(book.summary, index, \"summary\")}\n            </p>\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => toggleOriginalText(index)}\n            >\n              阅读原文\n            </button>\n            <button\n              className=\"btn btn-important\"\n              onClick={handleImportant}\n              data-index={index}\n            >\n              重要\n            </button>\n            {selectedSummaryIndex === index && (\n              <p className=\"original-text\" data-index={index}>\n                {renderHighlightedText(book.chunk, index, \"original-text\")}\n              </p>\n            )}\n          </div>\n        ))}\n      <style jsx>{`\n        :root {\n          --card-radius: 12px;\n          --border-soft: #e9ecef;\n          --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06),\n            0 1px 2px rgba(0, 0, 0, 0.04);\n          --shadow-md: 0 10px 15px rgba(0, 0, 0, 0.04),\n            0 4px 6px rgba(0, 0, 0, 0.06);\n          --accent: #ffeb3b;\n          --accent-strong: #f5c518;\n        }\n\n        .book-summary-page {\n          max-width: 860px;\n          margin: 0 auto;\n          padding: 24px 16px 48px;\n        }\n\n        .page-title {\n          position: sticky;\n          top: 0;\n          z-index: 5;\n          background: rgba(255, 255, 255, 0.85);\n          backdrop-filter: saturate(160%) blur(6px);\n          padding: 12px 8px;\n          margin: 0 0 12px 0;\n          border-bottom: 1px solid var(--border-soft);\n        }\n        .controls-bar {\n          position: sticky;\n          top: 52px;\n          z-index: 4;\n          background: rgba(255, 255, 255, 0.85);\n          backdrop-filter: saturate(160%) blur(6px);\n          padding: 8px 0 12px;\n          margin-bottom: 8px;\n          border-bottom: 1px dashed var(--border-soft);\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n          align-items: center;\n        }\n        .font-controls {\n          margin-left: auto;\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n        }\n        .font-label {\n          font-size: 12px;\n          color: #7a7a7a;\n        }\n        .font-preview {\n          font-weight: 700;\n          line-height: 1;\n          transform: translateY(-1px);\n        }\n        .font-select {\n          appearance: none;\n          -webkit-appearance: none;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 6px 28px 6px 10px;\n          font-size: 14px;\n          background: #fff\n            url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"%23999\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"6 9 12 15 18 9\"/></svg>')\n            no-repeat right 8px center;\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n        }\n        .font-select:focus {\n          outline: none;\n          border-color: #cbd5e1;\n        }\n        .font-unit {\n          font-size: 12px;\n          color: #9aa0a6;\n        }\n\n        .book-item {\n          background: #fff;\n          border: 1px solid var(--border-soft);\n          border-radius: var(--card-radius);\n          padding: 14px 16px;\n          margin: 14px 0;\n          box-shadow: var(--shadow-sm);\n          transition: transform 0.12s ease, box-shadow 0.2s ease,\n            border-color 0.2s ease;\n        }\n        .book-item:hover {\n          transform: translateY(-1px);\n          box-shadow: var(--shadow-md);\n        }\n        .book-item.important {\n          border-color: var(--accent-strong);\n          box-shadow: inset 0 0 0 2px rgba(245, 197, 24, 0.25);\n        }\n\n        .summary {\n          font-weight: 500;\n          line-height: 1.7;\n          margin: 0 0 10px 0;\n        }\n        .original-text {\n          margin-top: 10px;\n          padding: 12px;\n          background: #fafafa;\n          border-radius: 10px;\n          border: 1px dashed #e5e7eb;\n          line-height: 1.7;\n        }\n\n        .btn {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          font-size: 14px;\n          line-height: 1;\n          padding: 8px 12px;\n          border-radius: 10px;\n          border: 1px solid transparent;\n          cursor: pointer;\n          user-select: none;\n          transition: background-color 0.2s ease, border-color 0.2s ease,\n            transform 0.05s ease;\n          margin-right: 8px;\n        }\n        .btn:active {\n          transform: translateY(1px);\n        }\n        .btn-primary {\n          background: rgba(255, 213, 79, 0.85); /* 柔和暖黄，稍微透明 */\n          border-color: rgba(251, 192, 45, 0.85);\n          color: #111;\n          backdrop-filter: saturate(180%) blur(8px); /* 毛玻璃效果 */\n          -webkit-backdrop-filter: saturate(180%) blur(8px);\n          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.12);\n        }\n        .btn-primary:hover {\n          background: rgba(255, 202, 40, 0.9);\n        }\n        .btn-secondary {\n          background: #f1f3f5;\n          border-color: #e5e7eb;\n        }\n        .btn-important {\n          background: #fff7e6;\n          border-color: #ffd666;\n        }\n\n        .selection-toolbar {\n          position: absolute;\n          transform: translate(-50%, -100%);\n          background: #111;\n          color: #fff;\n          padding: 6px 8px;\n          border-radius: 10px;\n          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.18);\n          display: flex;\n          gap: 8px;\n          z-index: 999;\n          border: 1px solid rgba(255, 255, 255, 0.12);\n        }\n        .selection-toolbar::after {\n          content: \"\";\n          position: absolute;\n          bottom: -6px;\n          left: 50%;\n          transform: translateX(-50%);\n          border: 6px solid transparent;\n          border-top-color: #111;\n        }\n\n        .highlight {\n          background-color: #fff59d;\n          padding: 0 0.1em;\n          border-radius: 4px;\n          cursor: text; /* 避免误触删除的暗示 */\n        }\n        .highlight:hover {\n          box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.12);\n        }\n      `}</style>\n    </div>\n  );\n}\n","import MarkdownPage from \"./MarkdownPage\";\nimport Axios from \"axios\";\nimport { Button, Table, Select, message, Space, Typography } from \"antd\";\nimport React, { useState, useEffect } from \"react\";\nimport { dest_url } from \"./const\";\nimport BookSummaryPage from \"./BookSummaryPage\";\n\nconst { Option } = Select;\nconst { Title } = Typography;\n\nexport default function ReadSummaryList() {\n  const [bookList, setBookList] = useState([]);\n  const [metadata, setMetadata] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [clickName, setClickName] = useState(\"\");\n  const [showAll, setShowAll] = useState(true);\n\n  useEffect(() => {\n    fetchData();\n  }, [showAll]);\n\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      // Fetch book list\n      const fileResponse = await Axios.get(\n        `https://${dest_url}/file?list=book_summary`\n      );\n      const books = fileResponse.data.data.map((item) => ({\n        name: item.name,\n        key: item.name,\n      }));\n\n      // Fetch metadata\n      const metadataResponse = await Axios.get(\n        `https://${dest_url}/metadata?list=book_summary`\n      );\n      const metadataData = metadataResponse.data || {};\n\n      // Combine data\n      const booksWithMetadata = books.map((book) => {\n        const bookMetadata = metadataData[book.name] || {};\n        return {\n          ...book,\n          status: bookMetadata.status || \"not_begin\",\n          lastUpdated: bookMetadata.lastUpdated || \"-\",\n        };\n      });\n\n      setBookList(booksWithMetadata);\n      setMetadata(metadataData);\n      console.log(metadataResponse);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n      message.error(\"Failed to load book data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleStatusChange = async (value, record) => {\n    try {\n      const currentTimestamp = Math.floor(Date.now() / 1000); // Unix timestamp in seconds\n      const updatedMetadata = { ...metadata };\n\n      // Create or update book entry in metadata\n      updatedMetadata[record.name] = {\n        ...(updatedMetadata[record.name] || {}),\n        status: value,\n        lastUpdated: currentTimestamp,\n      };\n\n      // Update state immediately for responsive UI\n      setMetadata(updatedMetadata);\n\n      // Update the book list\n      setBookList(\n        bookList.map((book) => {\n          if (book.name === record.name) {\n            return {\n              ...book,\n              status: value,\n              lastUpdated: currentTimestamp,\n            };\n          }\n          return book;\n        })\n      );\n\n      // Send update to server\n      await Axios.post(\n        `https://${dest_url}/metadata?list=book_summary`,\n        updatedMetadata\n      );\n      message.success(\"Status updated successfully\");\n    } catch (error) {\n      console.error(\"Error updating status:\", error);\n      message.error(\"Failed to update status\");\n      // Revert changes on error\n      fetchData();\n    }\n  };\n\n  const columns = [\n    {\n      title: \"Book Name\",\n      dataIndex: \"name\",\n      key: \"name\",\n      render: (text, record) => (\n        <a\n          onClick={() => {\n            setClickName(record.name);\n            setShowAll(false);\n          }}\n        >\n          {text}\n        </a>\n      ),\n      sorter: (a, b) => a.name.localeCompare(b.name),\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"status\",\n      key: \"status\",\n      render: (status, record) => (\n        <Select\n          value={status}\n          style={{ width: 120 }}\n          onChange={(value) => handleStatusChange(value, record)}\n        >\n          <Option value=\"not_begin\">Not Begin</Option>\n          <Option value=\"ongoing\">Ongoing</Option>\n          <Option value=\"read\">Read</Option>\n        </Select>\n      ),\n      filters: [\n        { text: \"Not Begin\", value: \"not_begin\" },\n        { text: \"Ongoing\", value: \"ongoing\" },\n        { text: \"Read\", value: \"read\" },\n      ],\n      onFilter: (value, record) => record.status === value,\n    },\n    {\n      title: \"Last Updated\",\n      dataIndex: \"lastUpdated\",\n      key: \"lastUpdated\",\n      render: (timestamp) => {\n        if (timestamp === \"-\") return \"-\";\n        // Convert Unix timestamp to Date object and format\n        return new Date(timestamp * 1000).toLocaleString();\n      },\n      sorter: (a, b) => {\n        if (a.lastUpdated === \"-\") return -1;\n        if (b.lastUpdated === \"-\") return 1;\n        return b.lastUpdated - a.lastUpdated; // Direct comparison of Unix timestamps\n      },\n    },\n  ];\n\n  return showAll ? (\n    <div style={{ padding: \"20px\" }}>\n      <Title level={2}>Book Summary List</Title>\n      <Table\n        columns={columns}\n        dataSource={bookList}\n        loading={loading}\n        pagination={{ pageSize: 20 }}\n        rowKey=\"name\"\n      />\n    </div>\n  ) : (\n    <>\n      <BookSummaryPage name={clickName} list=\"book_summary\" />\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          setShowAll(true);\n        }}\n        style={{ marginTop: \"20px\" }}\n      >\n        Back to List\n      </Button>\n    </>\n  );\n}\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport \"antd/dist/antd.css\";\nimport LatestWeekly from \"./components/LatestWeekly\";\nimport LatestMonthly from \"./components/LatestMonthly\";\nimport EditPage from \"./components/EditPage\";\nimport MarkdownEditPage from \"./components/MarkdownEditPage\";\nimport MarkdownPage from \"./components/MarkdownPage\";\nimport ReadList from \"./components/ReadList\";\nimport ShowPage from \"./components/ShowPage\";\nimport SignInPage from \"./components/SignInPage\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport EmailAnalysisList from \"./components/EmailAnalysisList\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  useLocation,\n  Redirect,\n} from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { Menu, Layout } from \"antd\";\nimport ChineseCalendar from \"./components/ChineseCalendar\";\nimport {\n  BookOutlined,\n  UserOutlined,\n  AimOutlined,\n  EditOutlined,\n  FolderViewOutlined,\n  HeartOutlined,\n  SafetyCertificateOutlined,\n  CalendarOutlined,\n} from \"@ant-design/icons\";\nimport ReadSummaryList from \"./components/ReadSummaryList\";\nconst { Header, Sider, Content } = Layout;\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\nconst { SubMenu } = Menu;\nfunction App(props) {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  useEffect(() => {\n    const authToken = localStorage.getItem(\"authToken\");\n    setIsAuthenticated(authToken !== null);\n  }, []);\n  const sub = [\n    { name: \"每周计划\", json: \"weekly\" },\n    { name: \"每周工作总结\", json: \"weekly_work\" },\n    { name: \"每周生活时间总结\", json: \"weekly_analysis\" },\n    { name: \"每月计划\", json: \"monthly\" },\n    { name: \"提醒自己\", json: \"reminder_list\" },\n    { name: \"故事\", json: \"story\" },\n    { name: \"笑话\", json: \"fun\" },\n    { name: \"自己的想法\", json: \"event_and_feeling\" },\n  ];\n  const todo_list = [\n    { name: \"读书计划\", json: \"book\" },\n    { name: \"做饭\", json: \"cook\" },\n    { name: \"链接\", json: \"reading_link\" },\n    { name: \"餐厅\", json: \"resturant\" },\n    { name: \"旅游\", json: \"tour\" },\n    { name: \"摄影\", json: \"photos\" },\n    { name: \"想做的事情\", json: \"play\" },\n  ];\n  let query = useQuery();\n  return (\n    <Layout>\n      <Sider\n        breakpoint=\"lg\"\n        collapsedWidth=\"0\"\n        onBreakpoint={(broken) => {\n          console.log(broken);\n        }}\n        onCollapse={(collapsed, type) => {\n          console.log(collapsed, type);\n        }}\n      >\n        <div className=\"logo\" />\n        <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[\"1\"]}>\n          <Menu.Item key=\"signin\" icon={<UserOutlined />}>\n            Sign In\n            <Link to=\"/signin\" />\n          </Menu.Item>\n          <Menu.Item key=\"1\" icon={<UserOutlined />}>\n            自己提高的点\n            <Link to=\"/improvement\" />\n          </Menu.Item>\n          <Menu.Item key=\"10\" icon={<UserOutlined />}>\n            原则\n            <Link to=\"/principe\" />\n          </Menu.Item>\n          <Menu.Item key=\"11\" icon={<HeartOutlined />}>\n            同理心\n            <Link to=\"/empthy\" />\n          </Menu.Item>\n          <Menu.Item key=\"12\" icon={<SafetyCertificateOutlined />}>\n            应急处理\n            <Link to=\"/safety\" />\n          </Menu.Item>\n          <Menu.Item key=\"2\" icon={<AimOutlined />}>\n            本周目标\n            <Link to=\"/weekly\" />\n          </Menu.Item>\n          <Menu.Item key=\"3\" icon={<AimOutlined />}>\n            本月目标\n            <Link to=\"/monthly\" />\n          </Menu.Item>\n          <Menu.Item key=\"4\" icon={<AimOutlined />}>\n            年计划\n            <Link to=\"/year_plan\" />\n          </Menu.Item>\n          <Menu.Item key=\"calendar\" icon={<CalendarOutlined />}>\n            干支日历\n            <Link to=\"/chinese-calendar\" />\n          </Menu.Item>\n          <Menu.Item key=\"5\" icon={<BookOutlined />}>\n            读书笔记\n            <Link to=\"/read\" />\n          </Menu.Item>\n          <Menu.Item key=\"6\" icon={<BookOutlined />}>\n            书籍总结\n            <Link to=\"/book_summary\" />\n          </Menu.Item>\n          <Menu.Item key=\"7\" icon={<BookOutlined />}>\n            email总结\n            <Link to=\"/email_analysis\" />\n          </Menu.Item>\n          <SubMenu key=\"sub1\" icon={<EditOutlined />} title=\"修改\">\n            {sub.map((item) => {\n              const key = `${item.json}_edit`;\n              return (\n                <Menu.Item key={key}>\n                  {item.name}\n                  <Link to={`/${key}`} />\n                </Menu.Item>\n              );\n            })}\n          </SubMenu>\n          <SubMenu key=\"sub2\" icon={<FolderViewOutlined />} title=\"查看\">\n            {sub.map((item) => {\n              const key = `${item.json}_view`;\n              return (\n                <Menu.Item key={key}>\n                  {item.name}\n                  <Link to={`/${key}`} />\n                </Menu.Item>\n              );\n            })}\n          </SubMenu>\n          <SubMenu key=\"sub3\" icon={<EditOutlined />} title=\"添加清单\">\n            {todo_list.map((item) => {\n              const key = `${item.json}_edit`;\n              return (\n                <Menu.Item key={key}>\n                  {item.name}\n                  <Link to={`/${key}`} />\n                </Menu.Item>\n              );\n            })}\n          </SubMenu>\n          <SubMenu key=\"sub4\" icon={<FolderViewOutlined />} title=\"查看清单\">\n            {todo_list.map((item) => {\n              const key = `${item.json}_view`;\n              return (\n                <Menu.Item key={key}>\n                  {item.name}\n                  <Link to={`/${key}`} />\n                </Menu.Item>\n              );\n            })}\n          </SubMenu>\n        </Menu>\n      </Sider>\n      <Layout>\n        <Header\n          className=\"site-layout-sub-header-background\"\n          style={{ padding: 0 }}\n        />\n        <Content style={{ margin: \"24px 16px 0\" }}>\n          <div\n            className=\"site-layout-background\"\n            style={{ padding: 24, minHeight: 1024 }}\n          >\n            <ProtectedRoute\n              exact\n              path=\"/\"\n              component={() => (\n                <MarkdownPage name=\"我能做的好的地方.md\" list=\"must\" />\n              )}\n            />\n            <ProtectedRoute\n              path=\"/improvement\"\n              component={() => (\n                <MarkdownPage name=\"我能做的好的地方.md\" list=\"must\" />\n              )}\n            />\n            <ProtectedRoute\n              path=\"/safety\"\n              component={() => (\n                <MarkdownPage name=\"应急处理方法.md\" list=\"must\" />\n              )}\n            />\n            <ProtectedRoute\n              path=\"/year_plan\"\n              component={() => (\n                <MarkdownPage name=\"2025年计划.md\" list=\"must\" />\n              )}\n            />\n            <ProtectedRoute path=\"/weekly\" component={LatestWeekly} />\n            <ProtectedRoute path=\"/monthly\" component={LatestMonthly} />\n            <ProtectedRoute path=\"/read\" component={ReadList} />\n            <ProtectedRoute path=\"/book_summary\" component={ReadSummaryList} />\n            <ProtectedRoute\n              path=\"/email_analysis\"\n              component={EmailAnalysisList}\n            />\n            {sub.map((item) => {\n              const key = `/${item.json}_edit`;\n\n              return (\n                <ProtectedRoute\n                  path={key}\n                  children={\n                    <EditPage list={item.json} date={query.get(\"date\") ?? \"\"} />\n                  }\n                />\n              );\n            })}\n            {sub.map((item) => {\n              const key = `/${item.json}_view`;\n              return (\n                <ProtectedRoute\n                  path={key}\n                  children={<ShowPage list={item.json} />}\n                />\n              );\n            })}\n            {todo_list.map((item) => {\n              const key = `/${item.json}_edit`;\n\n              return (\n                <ProtectedRoute\n                  path={key}\n                  children={\n                    <EditPage list={item.json} date={query.get(\"date\") ?? \"\"} />\n                  }\n                />\n              );\n            })}\n            {todo_list.map((item) => {\n              const key = `/${item.json}_view`;\n              return (\n                <ProtectedRoute\n                  path={key}\n                  children={<ShowPage list={item.json} />}\n                />\n              );\n            })}\n            <Route\n              path=\"/markdown_edit\"\n              children={\n                <MarkdownEditPage\n                  list={query.get(\"list\") ?? \"\"}\n                  name={query.get(\"name\") ?? \"\"}\n                />\n              }\n            />\n            <Route\n              path=\"/markdown_show\"\n              children={\n                <MarkdownPage\n                  list={query.get(\"list\") ?? \"\"}\n                  name={query.get(\"name\") ?? \"\"}\n                />\n              }\n            />\n            <ProtectedRoute\n              path=\"/principe\"\n              children={<MarkdownPage name=\"原则.md\" list=\"must\" />}\n            />\n            <ProtectedRoute\n              path=\"/empthy\"\n              children={<MarkdownPage name=\"同理心.md\" list=\"must\" />}\n            />\n            <Route path=\"/signin\" component={SignInPage} />\n            <Route path=\"/chinese-calendar\" component={ChineseCalendar} />\n          </div>\n        </Content>\n      </Layout>\n    </Layout>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter as Router} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <Router>\n    <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}