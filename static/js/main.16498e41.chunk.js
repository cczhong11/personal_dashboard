(this.webpackJsonppersonal_dashboard=this.webpackJsonppersonal_dashboard||[]).push([[0],{228:function(t,e,n){},229:function(t,e,n){},409:function(t,e,n){},410:function(t,e,n){"use strict";n.r(e);var a=n(4),c=n(0),s=n.n(c),r=n(29),o=n.n(r),i=(n(228),n(16)),l=(n.p,n(229),n(230),n(24)),j=n.n(l),u=n(102),d=n.n(u),b="api.tczhong.com/backend";function O(t){var e=Object(c.useState)(0),n=Object(i.a)(e,1)[0],s=Object(c.useState)([]),r=Object(i.a)(s,2),o=r[0],l=r[1],u=Object(c.useState)({}),O=Object(i.a)(u,2),m=O[0],h=O[1],f=Object(c.useState)(""),p=Object(i.a)(f,2),x=p[0],g=p[1];return Object(c.useEffect)((function(){j.a.get("https://".concat(b,"/json?name=").concat(t.list,".json")).then((function(t){l(t.data.data[0].structure.content)}))}),[n]),Object(c.useEffect)((function(){"true"!==t.latest?j.a.get("https://".concat(b,"/json?name=").concat(t.name,"&list=").concat(t.list)).then((function(t){h(t.data.data[0].data)})):j.a.get("https://".concat(b,"/json?date=latest&list=").concat(t.list)).then((function(t){h(t.data.data[0].data)}))}),[o]),Object(c.useEffect)((function(){var e=o.map((function(e){if(!t.onlynext){var n,a=null!==(n=m[e.id])&&void 0!==n?n:"";return Array.isArray(m[e.id])&&(a=m[e.id].join("\n")),"## "+e.title+"\n\n"+a}var c;return e.id.includes("next")&&null!==(c="## "+e.title+"\n\n"+m[e.id])&&void 0!==c?c:""}));e.unshift("# ".concat(m.date)),g(e.join("\n"))}),[m]),Object(a.jsx)(d.a,{source:x})}function m(){return Object(a.jsx)(O,{latest:"true",list:"weekly",onlynext:!0})}function h(){return Object(a.jsx)(O,{latest:"true",list:"monthly",onlynext:!0})}var f=n(126),p=n(30),x=n(418),g=n(64),v=n(32),y=x.a.TextArea;function k(t){var e=Object(c.useState)([]),n=Object(i.a)(e,2),s=n[0],r=n[1],o=Object(c.useState)(0),l=Object(i.a)(o,1)[0],u=Object(c.useState)({}),d=Object(i.a)(u,2),m=d[0],h=d[1],k=Object(v.f)(),S="";void 0!==t.date&&null!==t.date&&""!==t.date&&(S=t.date.split(".")[0]);var w=Object(c.useState)(S),C=Object(i.a)(w,2),_=C[0],I=C[1];"date"in m||h(Object(p.a)(Object(p.a)({},m),{},{date:_})),Object(c.useEffect)((function(){var e="https://".concat(b,"/json?name=").concat(t.list,".json");j.a.get(e).then((function(t){r(t.data.data[0].structure.content)}))}),[l]),Object(c.useEffect)((function(){if(void 0!==t.date&&null!==t.date&&""!==t.date){var e="https://".concat(b,"/json?list=").concat(t.list,"&name=").concat(S,".json");j.a.get(e).then((function(t){h(t.data.data[0].data)}))}}),[l]);return Object(a.jsxs)(a.Fragment,{children:["weekly"===t.list||"monthly"===t.list?Object(a.jsx)(O,{latest:"true",list:t.list,onlynext:!0}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)("h2",{children:"Date"}),Object(a.jsx)(x.a,{value:_,onChange:function(t){return e=t.target.value,I(e),void h(Object(p.a)(Object(p.a)({},m),{},{date:e}));var e}}),s.map((function(t){var e;return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("h2",{children:t.title}),Object(a.jsx)(y,{rows:6,onChange:function(e){return n=e.target.value,a=t.id,console.log(m),void h(Object(p.a)(Object(p.a)({},m),{},Object(f.a)({},a,n)));var n,a},value:null!==(e=m[t.id])&&void 0!==e?e:""}),Object(a.jsx)("br",{})]})})),Object(a.jsx)(g.a,{type:"primary",onClick:function(){j.a.post("https://".concat(b,"/json?list=").concat(t.list),m).then((function(){k.push("/".concat(t.list,"_view"))}))},children:"submit"})]})}function S(t){var e=Object(c.useState)(t.date),n=Object(i.a)(e,2),s=n[0],r=n[1],o=Object(c.useState)(!0),l=Object(i.a)(o,2),u=l[0],d=l[1],O=Object(c.useState)(0),m=Object(i.a)(O,1)[0];return Object(c.useEffect)((function(){""===s?j.a.get("https://".concat(b,"/date?list=").concat(t.list)).then((function(t){r(t.data.date),d(!1)})):d(!1)}),[m]),u?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)(k,{list:t.list,date:s})}var w=x.a.TextArea;function C(t){var e,n=Object(c.useState)(0),s=Object(i.a)(n,1)[0],r=Object(c.useState)({}),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(c.useState)(10),O=Object(i.a)(d,2),m=O[0],h=O[1],f=Object(v.f)();Object(c.useEffect)((function(){if(void 0!==t.name&&null!==t.name&&""!==t.name){var e="https://".concat(b,"/file?list=").concat(t.list,"&name=").concat(t.name);j.a.get(e).then((function(t){u(t.data.data[0]),h(t.data.data[0].content.split("\n").length+10)}))}}),[s]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{rows:m,onChange:function(t){return e=t.target.value,console.log(l),void u(Object(p.a)(Object(p.a)({},l),{},{content:e}));var e},value:null!==(e=l.content)&&void 0!==e?e:""}),Object(a.jsx)(g.a,{type:"primary",onClick:function(){j.a.post("https://".concat(b,"/file?list=").concat(t.list,"&name=").concat(t.name),l).then((function(){f.push("/markdown_show?list=".concat(t.list,"&name=").concat(t.name))}))},children:"submit"})]})}function _(t){var e=Object(c.useState)(0),n=Object(i.a)(e,1)[0],s=Object(c.useState)(""),r=Object(i.a)(s,2),o=r[0],l=r[1],u=Object(v.f)();return Object(c.useEffect)((function(){j.a.get("https://".concat(b,"/file?name=").concat(t.name,"&list=").concat(t.list)).then((function(t){l(t.data.data[0].content)}))}),[n]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d.a,{source:o}),Object(a.jsx)(g.a,{type:"primary",onClick:function(){u.push("/markdown_edit?list=".concat(t.list,"&name=").concat(t.name))},children:"edit"})]})}function I(){var t=Object(c.useState)([]),e=Object(i.a)(t,2),n=e[0],s=e[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(c.useState)(!0),O=Object(i.a)(d,2),m=O[0],h=O[1];return Object(c.useEffect)((function(){j.a.get("https://".concat(b,"/file?list=read")).then((function(t){s(t.data.data.map((function(t){return{name:t.name}})))})),console.log(n)}),[0,m]),m?Object(a.jsx)(a.Fragment,{children:n.sort((function(t,e){return t.name.localeCompare(e.name)})).map((function(t,e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("a",{onClick:function(){u(t.name),h(!1)},children:[e,". ",t.name]},t.name),Object(a.jsx)("br",{})]})}))}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_,{name:l,list:"read"}),Object(a.jsx)(g.a,{type:"primary",onClick:function(){h(!0)},children:"back"})]})}var E=n(205);function F(t){var e=Object(E.a)("AIzaSyCjHEC0qECrtqhg74yjnAiAkcbpx0TtKuA",{zoom:10,center:{lat:37.3984,lng:-122.01233}}),n=e.ref,c=e.map,s=e.google;return console.log(t.list),c&&t.list&&t.list.map((function(t){new s.maps.Marker({label:t.name.split(".")[0],position:t.latlng,map:c})})),Object(a.jsx)("div",{ref:n,style:{width:"100%",height:500}})}function A(t){var e=Object(c.useState)([]),n=Object(i.a)(e,2),s=n[0],r=n[1],o=Object(c.useState)(""),l=Object(i.a)(o,2),u=l[0],d=l[1],m=Object(c.useState)(!0),h=Object(i.a)(m,2),f=h[0],p=h[1],x=Object(v.f)();return Object(c.useEffect)((function(){j.a.get("https://".concat(b,"/file?list=").concat(t.list)).then((function(e){t.list.includes("tour")||t.list.includes("resturant")?r(e.data.data.filter((function(t){return!t.name.includes("9999")})).map((function(t){return{name:t.name,latlng:t.latlng}}))):r(e.data.data.filter((function(t){return!t.name.includes("9999")})).map((function(t){return{name:t.name}})))}))}),[0,f]),f?Object(a.jsxs)(a.Fragment,{children:[s.sort((function(t,e){return e.name.localeCompare(t.name)})).map((function(t,e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("a",{onClick:function(){d(t.name),p(!1)},children:[e,". ",t.name]},t.name),Object(a.jsx)("br",{})]})})),t.list.includes("tour")||t.list.includes("resturant")?Object(a.jsx)(F,{list:s}):Object(a.jsx)(a.Fragment,{})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O,{name:u,list:t.list,onlynext:!1}),Object(a.jsx)(g.a,{type:"primary",onClick:function(){p(!0)},children:"back"}),Object(a.jsx)(g.a,{type:"primary",onClick:function(){x.push("/".concat(t.list,"_edit?date=").concat(u))},children:"edit"}),Object(a.jsx)("br",{})]})}var U=n(46),B=n.n(U),T=n(71),D=n(216),N=n(416),R=function(){var t=Object(c.useState)(!1),e=Object(i.a)(t,2),n=e[0],s=e[1],r=Object(v.f)(),o=function(){var t=Object(T.a)(B.a.mark((function t(e){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,j.a.post("".concat("https://api.tczhong.com/auth","/signin"),e);case 4:(n=t.sent).data.success?(D.b.success("Sign in successful"),localStorage.setItem("authToken",n.data.token),r.push("/")):D.b.error("Sign in failed"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),D.b.error("An error occurred. Please try again.");case 11:s(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(N.a,{name:"signin",onFinish:o,style:{maxWidth:300,margin:"0 auto",marginTop:100},children:[Object(a.jsx)(N.a.Item,{name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(a.jsx)(x.a,{placeholder:"Username"})}),Object(a.jsx)(N.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(a.jsx)(x.a.Password,{placeholder:"Password"})}),Object(a.jsx)(N.a.Item,{children:Object(a.jsx)(g.a,{type:"primary",htmlType:"submit",loading:n,style:{width:"100%"},children:"Sign In"})})]})},L=n(220),G=function(t){var e=t.component,n=Object(L.a)(t,["component"]),c=null!==localStorage.getItem("authToken");return Object(a.jsx)(v.b,Object(p.a)(Object(p.a)({},n),{},{render:function(t){return c?Object(a.jsx)(e,Object(p.a)({},t)):Object(a.jsx)(v.a,{to:"/signin"})}}))},Z=n(417),M=n(73),z=n(414),P=Z.a.Title,Y=M.a.Option;function q(){var t=Object(c.useState)([]),e=Object(i.a)(t,2),n=e[0],s=e[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(c.useState)(""),O=Object(i.a)(d,2),m=O[0],h=O[1],f=Object(c.useState)(!1),p=Object(i.a)(f,2),x=p[0],g=p[1],v=Object(c.useState)(!1),y=Object(i.a)(v,2),k=y[0],S=y[1],w=Object(c.useState)({total:0,typeCounts:{}}),C=Object(i.a)(w,2),_=C[0],I=C[1];Object(c.useEffect)((function(){E()}),[]),Object(c.useEffect)((function(){m&&F()}),[m]);var E=function(){var t=Object(T.a)(B.a.mark((function t(){var e,n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),t.prev=1,t.next=4,j.a.get("https://".concat(b,"/file?list=email_analysis"));case 4:e=t.sent,n=e.data.data.map((function(t){return{name:t.name,value:t.name}})),u(n),n.length>0&&h(n[0].value),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.error("Error fetching file list:",t.t0),D.b.error("Failed to load file list");case 14:return t.prev=14,S(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,10,14,17]])})));return function(){return t.apply(this,arguments)}}(),F=function(){var t=Object(T.a)(B.a.mark((function t(){var e;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.prev=1,t.next=4,j.a.get("https://".concat(b,"/json?name=").concat(m,"&list=email_analysis"));case 4:e=t.sent,s(e.data.data[0].data.result||[]),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error fetching email data:",t.t0),D.b.error("Failed to load email analysis data");case 12:return t.prev=12,g(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})));return function(){return t.apply(this,arguments)}}(),A=[{title:"\u6807\u9898",dataIndex:"title",key:"title",render:function(t){return Object(a.jsx)("strong",{children:t.slice(0,50)})}},{title:"\u53d1\u4ef6\u4eba",dataIndex:"sender",key:"sender",render:function(t){var e=t.match(/<([^>]+)>/),n=e?e[1]:t,c="https://mail.google.com/mail/u/0/#search/from%3A".concat(encodeURIComponent(n));return Object(a.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:t})}},{title:"\u6458\u8981",dataIndex:"summary",key:"summary",width:"40%"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type",render:function(t){return t.toUpperCase()}},{title:"\u9000\u8ba2\u5efa\u8bae",dataIndex:"unsubscribed",key:"unsubscribed",width:"30%"}];return Object(c.useEffect)((function(){var t=n.length,e=n.reduce((function(t,e){return t[e.type]=(t[e.type]||0)+1,t}),{});I({total:t,typeCounts:e})}),[n]),Object(a.jsxs)("div",{style:{padding:"20px"},children:[Object(a.jsx)(P,{level:2,children:"\u90ae\u4ef6\u5206\u6790"}),Object(a.jsx)("div",{style:{marginBottom:16},children:Object(a.jsx)(M.a,{value:m,onChange:function(t){h(t)},loading:k,style:{width:200},children:l.map((function(t){return Object(a.jsx)(Y,{value:t.value,children:t.name},t.value)}))})}),Object(a.jsxs)("div",{style:{marginBottom:16},children:[Object(a.jsx)("strong",{children:"\u603b\u90ae\u4ef6\u6570: "}),_.total,Object(a.jsxs)("span",{style:{marginLeft:16},children:[Object(a.jsx)("strong",{children:"\u7c7b\u578b\u7edf\u8ba1: "}),Object.entries(_.typeCounts).map((function(t){var e=Object(i.a)(t,2),n=e[0],c=e[1];return Object(a.jsxs)("span",{style:{marginRight:8},children:[n,": ",c]},n)}))]})]}),Object(a.jsx)(z.a,{columns:A,dataSource:n,loading:x,pagination:{pageSize:30},rowKey:"title"})]})}var H=n(27),K=n(413),W=n(85),J=n(415),X=n(110),Q=n.n(X);function V(){for(var t=Object(c.useState)((new Date).getFullYear()),e=Object(i.a)(t,2),n=e[0],s=e[1],r=[],o=1900;o<=2100;o++)r.push({value:o,label:o.toString()});return Object(a.jsxs)("div",{style:{padding:"20px"},children:[Object(a.jsx)("div",{style:{marginBottom:"20px"},children:Object(a.jsx)(M.a,{value:n,onChange:function(t){s(t)},options:r,style:{width:120}})}),Object(a.jsx)(J.a,{dateCellRender:function(t){var e=t.toDate(),n=e.getFullYear(),c=e.getMonth()+1,s=e.getDate();try{var r=Q.a.calendar(n,c).monthData.find((function(t){return t.year===n&&t.month===c&&t.day===s}));if(r){var o=function(t,e){var n=t.charAt(0),a=t.charAt(1),c=e.charAt(0),s=e.charAt(1);return{"\u7532":"\u5e9a","\u4e59":"\u8f9b","\u4e19":"\u58ec","\u4e01":"\u7678","\u5e9a":"\u7532","\u8f9b":"\u4e59","\u58ec":"\u4e19","\u7678":"\u4e01"}[n]===c||{"\u5b50":"\u5348","\u4e11":"\u672a","\u5bc5":"\u7533","\u536f":"\u9149","\u8fb0":"\u620c","\u5df3":"\u4ea5","\u5348":"\u5b50","\u672a":"\u4e11","\u7533":"\u5bc5","\u9149":"\u536f","\u620c":"\u8fb0","\u4ea5":"\u5df3"}[a]===s}(r.GanZhiYear,r.GanZhiMonth);return Object(a.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[Object(a.jsxs)("div",{children:[r.GanZhiYear,"\u5e74"]}),Object(a.jsxs)("div",{children:[r.GanZhiMonth,"\u6708"]}),Object(a.jsxs)("div",{children:[r.GanZhiDay,"\u65e5"]}),o&&Object(a.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:"\u5e74\u6708\u51b2"})]})}}catch(i){console.error("Error calculating Gan-Zhi:",i,t)}return null},headerRender:function(t){var e=t.value,n=(t.type,t.onChange),c=(t.onTypeChange,function(t){try{var e=new Date,n=e.getMonth()+1,a=e.getDate(),c=Q.a.calendar(t,n).monthData.find((function(e){return e.year===t&&e.month===n&&e.day===a}));return c?"".concat(c.GanZhiYear,"\u5e74 \u3010").concat(c.zodiac,"\u5e74\u3011"):"--"}catch(s){return console.error("Error calculating year Gan-Zhi:",s),"--"}}(e.year())),s=function(t,e,n){try{var a=Q.a.calendar(t,e).monthData.find((function(a){return a.year===t&&a.month===e&&a.day===n}));return a?"".concat(a.GanZhiMonth,"\u6708"):"--"}catch(c){return console.error("Error calculating month Gan-Zhi:",c),"--"}}(e.year(),e.month()+1,e.date()),o=Array.from({length:12},(function(t,e){return{value:e,label:"".concat(e+1,"\u6708")}}));return Object(a.jsxs)("div",{style:{padding:"16px"},children:[Object(a.jsxs)("div",{style:{marginBottom:"8px",display:"flex",gap:"8px"},children:[Object(a.jsx)(M.a,{value:e.year(),onChange:function(t){var a=e.clone().year(t);n(a)},options:r,style:{width:120}}),Object(a.jsx)(M.a,{value:e.month(),onChange:function(t){var a=e.clone().month(t);n(a)},options:o,style:{width:120}})]}),Object(a.jsxs)("div",{style:{color:"#666",marginBottom:"8px"},children:[c," ",s]})]})},fullscreen:!0,onChange:function(t){return console.log(t)}})]})}var $=n(419),tt=n(420),et=n(421),nt=n(422),at=n(423),ct=n(424),st=n(221),rt=n(425),ot=n(166);n(409);function it(t){var e,n=Object(c.useState)(0),s=Object(i.a)(n,1)[0],r=Object(c.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(c.useState)([]),O=Object(i.a)(d,2),m=O[0],h=O[1],f=Object(c.useState)(null),p=Object(i.a)(f,2),x=p[0],g=p[1];Object(c.useEffect)((function(){j.a.get("https://".concat(b,"/json?name=").concat(t.name,"&list=").concat(t.list)).then((function(t){u(t.data.data[0].data)}))}),[s]),Object(c.useEffect)((function(){j.a.get("https://".concat(b,"/json?name=").concat(t.name,"&list=").concat(t.list,"_highlight")).then((function(t){var e;h(null!==(e=t.data.data[0].data.data)&&void 0!==e?e:[])}))}),[s]),console.log(m);var v=Object(c.useRef)(null),y=m.filter((function(t){return"important"===t.type})),k=Object(c.useState)({top:0,left:0}),S=Object(i.a)(k,2),w=S[0],C=S[1],_=function(t){var e=t.target.parentElement,n=t.target.getAttribute("data-index"),a={index:parseInt(n,10),startOffset:0,endOffset:0,type:"important"};e.textContent.startsWith("\u2b50")||(e.textContent="\u2b50"+e.textContent),h([].concat(Object(ot.a)(m),[a]))};Object(c.useEffect)((function(){0!==(null!==m&&void 0!==m?m:[]).length&&j.a.post("https://".concat(b,"/json?list=").concat(t.list,"_highlight"),{date:t.name.split(".")[0],data:m}).then((function(){}))}),[m]);var I=function(t){var e=window.getSelection();if(e.rangeCount>0){var n=e.getRangeAt(0).getBoundingClientRect(),a=window.scrollX,c=window.scrollY;C({top:n.top-40+c,left:n.left+n.width/2+a})}};Object(c.useEffect)((function(){var t="mouseup";return v.current.addEventListener(t,I),function(){v.current.removeEventListener(t,I)}}),[]);var E=function(t,e,n){var c=0,s=[];return m.filter((function(t){return t.index===e&&t.type===n})).forEach((function(e){s.push(Object(a.jsx)("span",{children:t.slice(c,e.startOffset)})),s.push(Object(a.jsx)("span",{className:"highlight",children:t.slice(e.startOffset,e.endOffset)})),c=e.endOffset})),s.push(Object(a.jsx)("span",{children:t.slice(c)})),s},F=y.map((function(t){return t.index})).sort((function(t,e){return e-t}));return Object(a.jsxs)("div",{ref:v,children:[Object(a.jsx)("div",{style:{position:"absolute",top:"".concat(w.top,"px"),left:"".concat(w.left,"px")},children:Object(a.jsx)("button",{onClick:function(){var t=window.getSelection(),e=t.getRangeAt(0),n=e.commonAncestorContainer.parentElement.parentElement,a=n.getAttribute("data-index"),c=n.getAttribute("class"),s=function(t,e,n){var a=t.toString(),c=("summary"===n?l[e].summary:l[e].chunk).indexOf(a);return{startOffset:c,endOffset:c+a.length}}(e,parseInt(a,10),c),r={index:parseInt(a,10),startOffset:s.startOffset,endOffset:s.endOffset,type:c},o=document.createElement("span");o.className="highlight",e.surroundContents(o),t.removeAllRanges(),h([].concat(Object(ot.a)(m),[r]))},children:"\u9ad8\u4eae"})}),Object(a.jsxs)("h2",{children:["Latest Highlight section: ",null===(e=F[0])||void 0===e?void 0:e.toString()]}),null===l||void 0===l?void 0:l.map((function(t,e){return Object(a.jsxs)("div",{className:"book-item ".concat(x===e?"show-original":y.some((function(t){return t.index===e}))?"important":""),"data-index":e,children:[y.some((function(t){return t.index===e}))?"\u2b50":"",Object(a.jsxs)("p",{className:"summary","data-index":e,children:[e+1,". ",E(t.summary,e,"summary")]}),Object(a.jsx)("button",{onClick:function(){return function(t){g(x===t?null:t)}(e)},children:"\u9605\u8bfb\u539f\u6587"}),Object(a.jsx)("button",{onClick:_,"data-index":e,children:"\u91cd\u8981"}),x===e&&Object(a.jsx)("p",{className:"original-text","data-index":e,children:E(t.chunk,e,"original-text")})]},e)})),Object(a.jsx)("style",{jsx:!0,children:"\n        .highlight {\n          background-color: yellow;\n        }\n      "})]})}var lt=M.a.Option,jt=Z.a.Title;function ut(){var t=Object(c.useState)([]),e=Object(i.a)(t,2),n=e[0],s=e[1],r=Object(c.useState)({}),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(c.useState)(!1),O=Object(i.a)(d,2),m=O[0],h=O[1],f=Object(c.useState)(""),x=Object(i.a)(f,2),v=x[0],y=x[1],k=Object(c.useState)(!0),S=Object(i.a)(k,2),w=S[0],C=S[1];Object(c.useEffect)((function(){_()}),[w]);var _=function(){var t=Object(T.a)(B.a.mark((function t(){var e,n,a,c,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.prev=1,t.next=4,j.a.get("https://".concat(b,"/file?list=book_summary"));case 4:return e=t.sent,n=e.data.data.map((function(t){return{name:t.name,key:t.name}})),t.next=8,j.a.get("https://".concat(b,"/metadata?list=book_summary"));case 8:a=t.sent,c=a.data||{},r=n.map((function(t){var e=c[t.name]||{};return Object(p.a)(Object(p.a)({},t),{},{status:e.status||"not_begin",lastUpdated:e.lastUpdated||"-"})})),s(r),u(c),console.log(a),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),console.error("Error fetching data:",t.t0),D.b.error("Failed to load book data");case 20:return t.prev=20,h(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[1,16,20,23]])})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(T.a)(B.a.mark((function t(e,a){var c,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=Math.floor(Date.now()/1e3),(r=Object(p.a)({},l))[a.name]=Object(p.a)(Object(p.a)({},r[a.name]||{}),{},{status:e,lastUpdated:c}),u(r),s(n.map((function(t){return t.name===a.name?Object(p.a)(Object(p.a)({},t),{},{status:e,lastUpdated:c}):t}))),t.next=8,j.a.post("https://".concat(b,"/metadata?list=book_summary"),r);case 8:D.b.success("Status updated successfully"),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("Error updating status:",t.t0),D.b.error("Failed to update status"),_();case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}(),E=[{title:"Book Name",dataIndex:"name",key:"name",render:function(t,e){return Object(a.jsx)("a",{onClick:function(){y(e.name),C(!1)},children:t})},sorter:function(t,e){return t.name.localeCompare(e.name)}},{title:"Status",dataIndex:"status",key:"status",render:function(t,e){return Object(a.jsxs)(M.a,{value:t,style:{width:120},onChange:function(t){return I(t,e)},children:[Object(a.jsx)(lt,{value:"not_begin",children:"Not Begin"}),Object(a.jsx)(lt,{value:"ongoing",children:"Ongoing"}),Object(a.jsx)(lt,{value:"read",children:"Read"})]})},filters:[{text:"Not Begin",value:"not_begin"},{text:"Ongoing",value:"ongoing"},{text:"Read",value:"read"}],onFilter:function(t,e){return e.status===t}},{title:"Last Updated",dataIndex:"lastUpdated",key:"lastUpdated",render:function(t){return"-"===t?"-":new Date(1e3*t).toLocaleString()},sorter:function(t,e){return"-"===t.lastUpdated?-1:"-"===e.lastUpdated?1:e.lastUpdated-t.lastUpdated}}];return w?Object(a.jsxs)("div",{style:{padding:"20px"},children:[Object(a.jsx)(jt,{level:2,children:"Book Summary List"}),Object(a.jsx)(z.a,{columns:E,dataSource:n,loading:m,pagination:{pageSize:20},rowKey:"name"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(it,{name:v,list:"book_summary"}),Object(a.jsx)(g.a,{type:"primary",onClick:function(){C(!0)},style:{marginTop:"20px"},children:"Back to List"})]})}var dt=K.a.Header,bt=K.a.Sider,Ot=K.a.Content;var mt=W.a.SubMenu;var ht=function(t){var e,n,s,r,o=Object(c.useState)(!1),l=Object(i.a)(o,2),j=(l[0],l[1]);Object(c.useEffect)((function(){var t=localStorage.getItem("authToken");j(null!==t)}),[]);var u=[{name:"\u6bcf\u5468\u8ba1\u5212",json:"weekly"},{name:"\u6bcf\u5468\u5de5\u4f5c\u603b\u7ed3",json:"weekly_work"},{name:"\u6bcf\u5468\u751f\u6d3b\u65f6\u95f4\u603b\u7ed3",json:"weekly_analysis"},{name:"\u6bcf\u6708\u8ba1\u5212",json:"monthly"},{name:"\u63d0\u9192\u81ea\u5df1",json:"reminder_list"},{name:"\u6545\u4e8b",json:"story"},{name:"\u7b11\u8bdd",json:"fun"},{name:"\u81ea\u5df1\u7684\u60f3\u6cd5",json:"event_and_feeling"}],d=[{name:"\u8bfb\u4e66\u8ba1\u5212",json:"book"},{name:"\u505a\u996d",json:"cook"},{name:"\u94fe\u63a5",json:"reading_link"},{name:"\u9910\u5385",json:"resturant"},{name:"\u65c5\u6e38",json:"tour"},{name:"\u6444\u5f71",json:"photos"},{name:"\u60f3\u505a\u7684\u4e8b\u60c5",json:"play"}],b=new URLSearchParams(Object(v.g)().search);return Object(a.jsxs)(K.a,{children:[Object(a.jsxs)(bt,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(t){console.log(t)},onCollapse:function(t,e){console.log(t,e)},children:[Object(a.jsx)("div",{className:"logo"}),Object(a.jsxs)(W.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)($.a,{}),children:["Sign In",Object(a.jsx)(H.b,{to:"/signin"})]},"signin"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)($.a,{}),children:["\u81ea\u5df1\u63d0\u9ad8\u7684\u70b9",Object(a.jsx)(H.b,{to:"/improvement"})]},"1"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)($.a,{}),children:["\u539f\u5219",Object(a.jsx)(H.b,{to:"/principe"})]},"10"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)(tt.a,{}),children:["\u540c\u7406\u5fc3",Object(a.jsx)(H.b,{to:"/empthy"})]},"11"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)(et.a,{}),children:["\u5e94\u6025\u5904\u7406",Object(a.jsx)(H.b,{to:"/safety"})]},"12"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)(nt.a,{}),children:["\u672c\u5468\u76ee\u6807",Object(a.jsx)(H.b,{to:"/weekly"})]},"2"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)(nt.a,{}),children:["\u672c\u6708\u76ee\u6807",Object(a.jsx)(H.b,{to:"/monthly"})]},"3"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)(nt.a,{}),children:["\u5e74\u8ba1\u5212",Object(a.jsx)(H.b,{to:"/year_plan"})]},"4"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)(at.a,{}),children:["\u5e72\u652f\u65e5\u5386",Object(a.jsx)(H.b,{to:"/chinese-calendar"})]},"calendar"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)(ct.a,{}),children:["\u8bfb\u4e66\u7b14\u8bb0",Object(a.jsx)(H.b,{to:"/read"})]},"5"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)(ct.a,{}),children:["\u4e66\u7c4d\u603b\u7ed3",Object(a.jsx)(H.b,{to:"/book_summary"})]},"6"),Object(a.jsxs)(W.a.Item,{icon:Object(a.jsx)(ct.a,{}),children:["email\u603b\u7ed3",Object(a.jsx)(H.b,{to:"/email_analysis"})]},"7"),Object(a.jsx)(mt,{icon:Object(a.jsx)(st.a,{}),title:"\u4fee\u6539",children:u.map((function(t){var e="".concat(t.json,"_edit");return Object(a.jsxs)(W.a.Item,{children:[t.name,Object(a.jsx)(H.b,{to:"/".concat(e)})]},e)}))},"sub1"),Object(a.jsx)(mt,{icon:Object(a.jsx)(rt.a,{}),title:"\u67e5\u770b",children:u.map((function(t){var e="".concat(t.json,"_view");return Object(a.jsxs)(W.a.Item,{children:[t.name,Object(a.jsx)(H.b,{to:"/".concat(e)})]},e)}))},"sub2"),Object(a.jsx)(mt,{icon:Object(a.jsx)(st.a,{}),title:"\u6dfb\u52a0\u6e05\u5355",children:d.map((function(t){var e="".concat(t.json,"_edit");return Object(a.jsxs)(W.a.Item,{children:[t.name,Object(a.jsx)(H.b,{to:"/".concat(e)})]},e)}))},"sub3"),Object(a.jsx)(mt,{icon:Object(a.jsx)(rt.a,{}),title:"\u67e5\u770b\u6e05\u5355",children:d.map((function(t){var e="".concat(t.json,"_view");return Object(a.jsxs)(W.a.Item,{children:[t.name,Object(a.jsx)(H.b,{to:"/".concat(e)})]},e)}))},"sub4")]})]}),Object(a.jsxs)(K.a,{children:[Object(a.jsx)(dt,{className:"site-layout-sub-header-background",style:{padding:0}}),Object(a.jsx)(Ot,{style:{margin:"24px 16px 0"},children:Object(a.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:1024},children:[Object(a.jsx)(G,{exact:!0,path:"/",component:function(){return Object(a.jsx)(_,{name:"\u6211\u80fd\u505a\u7684\u597d\u7684\u5730\u65b9.md",list:"must"})}}),Object(a.jsx)(G,{path:"/improvement",component:function(){return Object(a.jsx)(_,{name:"\u6211\u80fd\u505a\u7684\u597d\u7684\u5730\u65b9.md",list:"must"})}}),Object(a.jsx)(G,{path:"/safety",component:function(){return Object(a.jsx)(_,{name:"\u5e94\u6025\u5904\u7406\u65b9\u6cd5.md",list:"must"})}}),Object(a.jsx)(G,{path:"/year_plan",component:function(){return Object(a.jsx)(_,{name:"2025\u5e74\u8ba1\u5212.md",list:"must"})}}),Object(a.jsx)(G,{path:"/weekly",component:m}),Object(a.jsx)(G,{path:"/monthly",component:h}),Object(a.jsx)(G,{path:"/read",component:I}),Object(a.jsx)(G,{path:"/book_summary",component:ut}),Object(a.jsx)(G,{path:"/email_analysis",component:q}),u.map((function(t){var e,n="/".concat(t.json,"_edit");return Object(a.jsx)(G,{path:n,children:Object(a.jsx)(S,{list:t.json,date:null!==(e=b.get("date"))&&void 0!==e?e:""})})})),u.map((function(t){var e="/".concat(t.json,"_view");return Object(a.jsx)(G,{path:e,children:Object(a.jsx)(A,{list:t.json})})})),d.map((function(t){var e,n="/".concat(t.json,"_edit");return Object(a.jsx)(G,{path:n,children:Object(a.jsx)(S,{list:t.json,date:null!==(e=b.get("date"))&&void 0!==e?e:""})})})),d.map((function(t){var e="/".concat(t.json,"_view");return Object(a.jsx)(G,{path:e,children:Object(a.jsx)(A,{list:t.json})})})),Object(a.jsx)(v.b,{path:"/markdown_edit",children:Object(a.jsx)(C,{list:null!==(e=b.get("list"))&&void 0!==e?e:"",name:null!==(n=b.get("name"))&&void 0!==n?n:""})}),Object(a.jsx)(v.b,{path:"/markdown_show",children:Object(a.jsx)(_,{list:null!==(s=b.get("list"))&&void 0!==s?s:"",name:null!==(r=b.get("name"))&&void 0!==r?r:""})}),Object(a.jsx)(G,{path:"/principe",children:Object(a.jsx)(_,{name:"\u539f\u5219.md",list:"must"})}),Object(a.jsx)(G,{path:"/empthy",children:Object(a.jsx)(_,{name:"\u540c\u7406\u5fc3.md",list:"must"})}),Object(a.jsx)(v.b,{path:"/signin",component:R}),Object(a.jsx)(v.b,{path:"/chinese-calendar",component:V})]})})]})]})},ft=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,426)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),s(t),r(t)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(H.a,{children:Object(a.jsx)(ht,{})})}),document.getElementById("root")),ft()}},[[410,1,2]]]);
//# sourceMappingURL=main.16498e41.chunk.js.map